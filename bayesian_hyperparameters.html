<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>bayesian_hyperparameters</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="bayesian_hyperparameters_files/libs/clipboard/clipboard.min.js"></script>
<script src="bayesian_hyperparameters_files/libs/quarto-html/quarto.js"></script>
<script src="bayesian_hyperparameters_files/libs/quarto-html/popper.min.js"></script>
<script src="bayesian_hyperparameters_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="bayesian_hyperparameters_files/libs/quarto-html/anchor.min.js"></script>
<link href="bayesian_hyperparameters_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="bayesian_hyperparameters_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="bayesian_hyperparameters_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="bayesian_hyperparameters_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="bayesian_hyperparameters_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.35.2.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Motivation</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>I recently became interested in Bayesian optimization as a powerful strategy for hyperparameter tuning, especially in scenarios where there are several hyperparameters that interact in complex ways. This makes it particularly appealing for models like XGBoost, LightGBM, and CatBoost as they rely heavily on careful tuning for optimal performance.</p>
<p>I’m particularly interested in using the <code>optuna</code> library due to its flexibility, support for early stopping, and rich feature set. While I’m aware of alternatives like <code>scikit-optimize</code>’s <code>BayesSearchCV</code>, <code>optuna</code> offers greater customization and more intuitive control. Additionally, I believe that skills developed with <code>optuna</code> will transfer more easily to other frameworks than the reverse.</p>
<section id="the-higgs-dataset" class="level2">
<h2 class="anchored" data-anchor-id="the-higgs-dataset">The HIGGS dataset</h2>
<p>The HIGGS dataset is a binary classification dataset originally developed for high-energy physics research and later adopted in machine learning competitions. It contains 28 continuous features derived from simulated particle collisions, and the target variable indicates whether an event corresponds to a Higgs Boson decay.</p>
<p>I selected this dataset because of its large size, which makes it ideal for testing hyperparameter optimization strategies on computationally intensive models. While I don’t fully understand the meaning of each variable, that’s not the goal of this analysis. The dataset serves well as a realistic, high-volume benchmark for tuning performance.</p>
<p>Here’s a snapshot of the dataset:</p>
<div id="a5a4c0ab" class="cell" data-execution_count="2">
<div class="cell-output cell-output-display" data-execution_count="190">
<table class="dataframe table table-sm table-striped small">

<thead>

<tr>

<th>
</th>

<th>
target
</th>

<th>
lepton pT
</th>

<th>
lepton eta
</th>

<th>
lepton phi
</th>

<th>
missing energy magnitude
</th>

<th>
missing energy phi
</th>

<th>
jet 1 pt
</th>

<th>
jet 1 eta
</th>

<th>
jet 1 phi
</th>

<th>
jet 1 b-tag
</th>

<th>
jet 2 pt
</th>

<th>
jet 2 eta
</th>

<th>
jet 2 phi
</th>

<th>
jet 2 b-tag
</th>

<th>
jet 3 pt
</th>

<th>
jet 3 eta
</th>

<th>
jet 3 phi
</th>

<th>
jet 3 b-tag
</th>

<th>
jet 4 pt
</th>

<th>
jet 4 eta
</th>

<th>
jet 4 phi
</th>

<th>
jet 4 b-tag
</th>

<th>
m_jj
</th>

<th>
m_jjj
</th>

<th>
m_lv
</th>

<th>
m_jlv
</th>

<th>
m_bb
</th>

<th>
m_wbb
</th>

<th>
m_wwbb
</th>

</tr>

</thead>

<tbody>

<tr>

<th>
0
</th>

<td>
1.0
</td>

<td>
0.869293
</td>

<td>
-0.635082
</td>

<td>
0.225690
</td>

<td>
0.327470
</td>

<td>
-0.689993
</td>

<td>
0.754202
</td>

<td>
-0.248573
</td>

<td>
-1.092064
</td>

<td>
0.000000
</td>

<td>
1.374992
</td>

<td>
-0.653674
</td>

<td>
0.930349
</td>

<td>
1.107436
</td>

<td>
1.138904
</td>

<td>
-1.578198
</td>

<td>
-1.046985
</td>

<td>
0.000000
</td>

<td>
0.657930
</td>

<td>
-0.010455
</td>

<td>
-0.045767
</td>

<td>
3.101961
</td>

<td>
1.353760
</td>

<td>
0.979563
</td>

<td>
0.978076
</td>

<td>
0.920005
</td>

<td>
0.721657
</td>

<td>
0.988751
</td>

<td>
0.876678
</td>

</tr>

<tr>

<th>
1
</th>

<td>
1.0
</td>

<td>
0.907542
</td>

<td>
0.329147
</td>

<td>
0.359412
</td>

<td>
1.497970
</td>

<td>
-0.313010
</td>

<td>
1.095531
</td>

<td>
-0.557525
</td>

<td>
-1.588230
</td>

<td>
2.173076
</td>

<td>
0.812581
</td>

<td>
-0.213642
</td>

<td>
1.271015
</td>

<td>
2.214872
</td>

<td>
0.499994
</td>

<td>
-1.261432
</td>

<td>
0.732156
</td>

<td>
0.000000
</td>

<td>
0.398701
</td>

<td>
-1.138930
</td>

<td>
-0.000819
</td>

<td>
0.000000
</td>

<td>
0.302220
</td>

<td>
0.833048
</td>

<td>
0.985700
</td>

<td>
0.978098
</td>

<td>
0.779732
</td>

<td>
0.992356
</td>

<td>
0.798343
</td>

</tr>

<tr>

<th>
2
</th>

<td>
1.0
</td>

<td>
0.798835
</td>

<td>
1.470639
</td>

<td>
-1.635975
</td>

<td>
0.453773
</td>

<td>
0.425629
</td>

<td>
1.104875
</td>

<td>
1.282322
</td>

<td>
1.381664
</td>

<td>
0.000000
</td>

<td>
0.851737
</td>

<td>
1.540659
</td>

<td>
-0.819690
</td>

<td>
2.214872
</td>

<td>
0.993490
</td>

<td>
0.356080
</td>

<td>
-0.208778
</td>

<td>
2.548224
</td>

<td>
1.256955
</td>

<td>
1.128848
</td>

<td>
0.900461
</td>

<td>
0.000000
</td>

<td>
0.909753
</td>

<td>
1.108330
</td>

<td>
0.985692
</td>

<td>
0.951331
</td>

<td>
0.803252
</td>

<td>
0.865924
</td>

<td>
0.780118
</td>

</tr>

<tr>

<th>
3
</th>

<td>
0.0
</td>

<td>
1.344385
</td>

<td>
-0.876626
</td>

<td>
0.935913
</td>

<td>
1.992050
</td>

<td>
0.882454
</td>

<td>
1.786066
</td>

<td>
-1.646778
</td>

<td>
-0.942383
</td>

<td>
0.000000
</td>

<td>
2.423265
</td>

<td>
-0.676016
</td>

<td>
0.736159
</td>

<td>
2.214872
</td>

<td>
1.298720
</td>

<td>
-1.430738
</td>

<td>
-0.364658
</td>

<td>
0.000000
</td>

<td>
0.745313
</td>

<td>
-0.678379
</td>

<td>
-1.360356
</td>

<td>
0.000000
</td>

<td>
0.946652
</td>

<td>
1.028704
</td>

<td>
0.998656
</td>

<td>
0.728281
</td>

<td>
0.869200
</td>

<td>
1.026736
</td>

<td>
0.957904
</td>

</tr>

<tr>

<th>
4
</th>

<td>
1.0
</td>

<td>
1.105009
</td>

<td>
0.321356
</td>

<td>
1.522401
</td>

<td>
0.882808
</td>

<td>
-1.205349
</td>

<td>
0.681466
</td>

<td>
-1.070464
</td>

<td>
-0.921871
</td>

<td>
0.000000
</td>

<td>
0.800872
</td>

<td>
1.020974
</td>

<td>
0.971407
</td>

<td>
2.214872
</td>

<td>
0.596761
</td>

<td>
-0.350273
</td>

<td>
0.631194
</td>

<td>
0.000000
</td>

<td>
0.479999
</td>

<td>
-0.373566
</td>

<td>
0.113041
</td>

<td>
0.000000
</td>

<td>
0.755856
</td>

<td>
1.361057
</td>

<td>
0.986610
</td>

<td>
0.838085
</td>

<td>
1.133295
</td>

<td>
0.872245
</td>

<td>
0.808487
</td>

</tr>

<tr>

<th>
5
</th>

<td>
0.0
</td>

<td>
1.595839
</td>

<td>
-0.607811
</td>

<td>
0.007075
</td>

<td>
1.818450
</td>

<td>
-0.111906
</td>

<td>
0.847550
</td>

<td>
-0.566437
</td>

<td>
1.581239
</td>

<td>
2.173076
</td>

<td>
0.755421
</td>

<td>
0.643110
</td>

<td>
1.426367
</td>

<td>
0.000000
</td>

<td>
0.921661
</td>

<td>
-1.190432
</td>

<td>
-1.615589
</td>

<td>
0.000000
</td>

<td>
0.651114
</td>

<td>
-0.654227
</td>

<td>
-1.274345
</td>

<td>
3.101961
</td>

<td>
0.823761
</td>

<td>
0.938191
</td>

<td>
0.971758
</td>

<td>
0.789176
</td>

<td>
0.430553
</td>

<td>
0.961357
</td>

<td>
0.957818
</td>

</tr>

<tr>

<th>
6
</th>

<td>
1.0
</td>

<td>
0.409391
</td>

<td>
-1.884684
</td>

<td>
-1.027292
</td>

<td>
1.672452
</td>

<td>
-1.604598
</td>

<td>
1.338015
</td>

<td>
0.055427
</td>

<td>
0.013466
</td>

<td>
2.173076
</td>

<td>
0.509783
</td>

<td>
-1.038338
</td>

<td>
0.707862
</td>

<td>
0.000000
</td>

<td>
0.746918
</td>

<td>
-0.358465
</td>

<td>
-1.646654
</td>

<td>
0.000000
</td>

<td>
0.367058
</td>

<td>
0.069496
</td>

<td>
1.377130
</td>

<td>
3.101961
</td>

<td>
0.869418
</td>

<td>
1.222083
</td>

<td>
1.000627
</td>

<td>
0.545045
</td>

<td>
0.698653
</td>

<td>
0.977314
</td>

<td>
0.828786
</td>

</tr>

<tr>

<th>
7
</th>

<td>
1.0
</td>

<td>
0.933895
</td>

<td>
0.629130
</td>

<td>
0.527535
</td>

<td>
0.238033
</td>

<td>
-0.966569
</td>

<td>
0.547811
</td>

<td>
-0.059439
</td>

<td>
-1.706866
</td>

<td>
2.173076
</td>

<td>
0.941003
</td>

<td>
-2.653733
</td>

<td>
-0.157220
</td>

<td>
0.000000
</td>

<td>
1.030370
</td>

<td>
-0.175505
</td>

<td>
0.523021
</td>

<td>
2.548224
</td>

<td>
1.373547
</td>

<td>
1.291248
</td>

<td>
-1.467454
</td>

<td>
0.000000
</td>

<td>
0.901837
</td>

<td>
1.083671
</td>

<td>
0.979696
</td>

<td>
0.783300
</td>

<td>
0.849195
</td>

<td>
0.894356
</td>

<td>
0.774879
</td>

</tr>

<tr>

<th>
8
</th>

<td>
1.0
</td>

<td>
1.405144
</td>

<td>
0.536603
</td>

<td>
0.689554
</td>

<td>
1.179567
</td>

<td>
-0.110061
</td>

<td>
3.202405
</td>

<td>
-1.526960
</td>

<td>
-1.576033
</td>

<td>
0.000000
</td>

<td>
2.931537
</td>

<td>
0.567342
</td>

<td>
-0.130033
</td>

<td>
2.214872
</td>

<td>
1.787123
</td>

<td>
0.899499
</td>

<td>
0.585151
</td>

<td>
2.548224
</td>

<td>
0.401865
</td>

<td>
-0.151202
</td>

<td>
1.163489
</td>

<td>
0.000000
</td>

<td>
1.667071
</td>

<td>
4.039273
</td>

<td>
1.175828
</td>

<td>
1.045352
</td>

<td>
1.542972
</td>

<td>
3.534827
</td>

<td>
2.740754
</td>

</tr>

<tr>

<th>
9
</th>

<td>
1.0
</td>

<td>
1.176566
</td>

<td>
0.104161
</td>

<td>
1.397002
</td>

<td>
0.479721
</td>

<td>
0.265513
</td>

<td>
1.135563
</td>

<td>
1.534831
</td>

<td>
-0.253291
</td>

<td>
0.000000
</td>

<td>
1.027247
</td>

<td>
0.534316
</td>

<td>
1.180022
</td>

<td>
0.000000
</td>

<td>
2.405661
</td>

<td>
0.087557
</td>

<td>
-0.976534
</td>

<td>
2.548224
</td>

<td>
1.250383
</td>

<td>
0.268541
</td>

<td>
0.530334
</td>

<td>
0.000000
</td>

<td>
0.833175
</td>

<td>
0.773968
</td>

<td>
0.985750
</td>

<td>
1.103696
</td>

<td>
0.849140
</td>

<td>
0.937104
</td>

<td>
0.812364
</td>

</tr>

</tbody>

</table>
</div>
</div>
<section id="higgs-boson-variable" class="level3">
<h3 class="anchored" data-anchor-id="higgs-boson-variable">Higgs Boson Variable</h3>
<p>Below we can observe the distribution of the target variable. It’s almost equally balanced, with 52% of the events corresponding to a Higgs Boson decay and 48% of the events not corresponding to a Higgs Boson decay.</p>
<div id="b77df6f1" class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="bayesian_hyperparameters_files/figure-html/cell-4-output-1.png" class="quarto-figure quarto-figure-center figure-img" width="758" height="567"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="higgs-boson-variable-vs-predictor-variables" class="level3">
<h3 class="anchored" data-anchor-id="higgs-boson-variable-vs-predictor-variables">Higgs Boson Variable vs Predictor Variables</h3>
<p>Below is a dropdown menu that lets you explore the distribution of each predictor variable, separated by whether or not a Higgs boson decay occurred. For efficiency, these plots are based on a subsample of 50,000 observations.</p>
<p>At first glance, there are no major differences in the distributions of the predictors between the two outcome classes. This suggests that any signal present is likely subtle and embedded in complex, multidimensional interactions. Gradient Boosting Machines are a strong choice for this task.</p>
<div id="71f95795" class="cell" data-results="asis" data-execution_count="6">
<div class="cell-output cell-output-display no-overflow-x">

<div class="mb-3" style="max-width: 300px;">
  <label for="feature-select" class="form-label">Select a feature:</label>
  <select id="feature-select" class="form-select">
    
      <option value="lepton pT">lepton pT</option>
    
      <option value="lepton eta">lepton eta</option>
    
      <option value="lepton phi">lepton phi</option>
    
      <option value="missing energy magnitude">missing energy magnitude</option>
    
      <option value="missing energy phi">missing energy phi</option>
    
      <option value="jet 1 pt">jet 1 pt</option>
    
      <option value="jet 1 eta">jet 1 eta</option>
    
      <option value="jet 1 phi">jet 1 phi</option>
    
      <option value="jet 1 b-tag">jet 1 b-tag</option>
    
      <option value="jet 2 pt">jet 2 pt</option>
    
      <option value="jet 2 eta">jet 2 eta</option>
    
      <option value="jet 2 phi">jet 2 phi</option>
    
      <option value="jet 2 b-tag">jet 2 b-tag</option>
    
      <option value="jet 3 pt">jet 3 pt</option>
    
      <option value="jet 3 eta">jet 3 eta</option>
    
      <option value="jet 3 phi">jet 3 phi</option>
    
      <option value="jet 3 b-tag">jet 3 b-tag</option>
    
      <option value="jet 4 pt">jet 4 pt</option>
    
      <option value="jet 4 eta">jet 4 eta</option>
    
      <option value="jet 4 phi">jet 4 phi</option>
    
      <option value="jet 4 b-tag">jet 4 b-tag</option>
    
      <option value="m_jj">m_jj</option>
    
      <option value="m_jjj">m_jjj</option>
    
      <option value="m_lv">m_lv</option>
    
      <option value="m_jlv">m_jlv</option>
    
      <option value="m_bb">m_bb</option>
    
      <option value="m_wbb">m_wbb</option>
    
      <option value="m_wwbb">m_wwbb</option>
    
  </select>
</div>

<div id="plot-container">
  
  <img src="plots/boxplotviolins/lepton pT.png" class="plot" id="plot-lepton pT" style="display: block; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/lepton eta.png" class="plot" id="plot-lepton eta" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/lepton phi.png" class="plot" id="plot-lepton phi" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/missing energy magnitude.png" class="plot" id="plot-missing energy magnitude" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/missing energy phi.png" class="plot" id="plot-missing energy phi" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 1 pt.png" class="plot" id="plot-jet 1 pt" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 1 eta.png" class="plot" id="plot-jet 1 eta" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 1 phi.png" class="plot" id="plot-jet 1 phi" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 1 b-tag.png" class="plot" id="plot-jet 1 b-tag" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 2 pt.png" class="plot" id="plot-jet 2 pt" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 2 eta.png" class="plot" id="plot-jet 2 eta" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 2 phi.png" class="plot" id="plot-jet 2 phi" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 2 b-tag.png" class="plot" id="plot-jet 2 b-tag" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 3 pt.png" class="plot" id="plot-jet 3 pt" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 3 eta.png" class="plot" id="plot-jet 3 eta" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 3 phi.png" class="plot" id="plot-jet 3 phi" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 3 b-tag.png" class="plot" id="plot-jet 3 b-tag" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 4 pt.png" class="plot" id="plot-jet 4 pt" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 4 eta.png" class="plot" id="plot-jet 4 eta" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 4 phi.png" class="plot" id="plot-jet 4 phi" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/jet 4 b-tag.png" class="plot" id="plot-jet 4 b-tag" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/m_jj.png" class="plot" id="plot-m_jj" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/m_jjj.png" class="plot" id="plot-m_jjj" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/m_lv.png" class="plot" id="plot-m_lv" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/m_jlv.png" class="plot" id="plot-m_jlv" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/m_bb.png" class="plot" id="plot-m_bb" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/m_wbb.png" class="plot" id="plot-m_wbb" style="display: none; margin: 0 auto; width: 70%;">
  
  <img src="plots/boxplotviolins/m_wwbb.png" class="plot" id="plot-m_wwbb" style="display: none; margin: 0 auto; width: 70%;">
  
</div>

<script>
  const select = document.getElementById("feature-select");
  const plots = document.querySelectorAll(".plot");

  select.addEventListener("change", () => {
    plots.forEach(p => p.style.display = "none");
    const selected = document.getElementById(`plot-${select.value}`);
    if (selected) selected.style.display = "block";
  });
</script>
</div>
</div>
</section>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology">Methodology</h2>
<p>To make the most of Bayesian optimization, I structured the process into three stages. Across all stages, I applied a few consistent strategies:</p>
<ul>
<li>Subsampling the dataset for faster iteration and experimentation.</li>
<li>Using a single train/validation split rather than cross-validation. While cross-validation is more robust for model selection, this project is focused on exploring Bayesian optimization techniques rather than identifying a definitive best model. For future, more rigorous applications, I plan to incorporate cross-validation.</li>
<li>Employing pruners to stop trials early when no further improvement is observed. This improves efficiency and allows more trials to be completed within the same time budget.
<ul>
<li>Note: CatBoost’s API currently does not work well with Optuna’s pruning mechanisms, so pruning was disabled for CatBoost experiments.</li>
</ul></li>
</ul>
<section id="stages" class="level3">
<h3 class="anchored" data-anchor-id="stages">Stages</h3>
<ol type="1">
<li>Coarse, Broad Search
<ul>
<li>Subsample 10% of the data.<br>
</li>
<li>Run 100 Optuna trials to identify which hyperparameters are most impactful.<br>
</li>
<li>Use 100 boosting rounds for fast feedback.<br>
</li>
<li>Use a <code>MedianPruner</code> for gentle early stopping.<br>
</li>
<li>Purpose: Narrow the search space by identifying influential parameters.</li>
</ul></li>
<li>Fine, Narrow Search
<ul>
<li>Subsample 20% of the data.<br>
</li>
<li>Focus on tuning the most important hyperparameters identified in Stage 1, along with key regularization parameters.<br>
</li>
<li>Run 50 Optuna trials with a more focused search space.<br>
</li>
<li>Increase to 1000 boosting rounds for more thorough learning.<br>
</li>
<li>Use a <code>SuccessiveHalvingPruner</code> to speed up the search while still exploring promising trials.</li>
</ul></li>
<li>Fit Final Model
<ul>
<li>Use the full dataset.<br>
</li>
<li>Train a final model using the best hyperparameters found in Stage 2.<br>
</li>
<li>Evaluate final performance on a held-out test set.</li>
<li>Compare against an untuned model to assess the impact of hyperparameter tuning.</li>
</ul></li>
</ol>
</section>
</section>
<section id="tuning-the-models" class="level2">
<h2 class="anchored" data-anchor-id="tuning-the-models">Tuning The Models</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">XGBoost</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">LightGBM</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">CatBoost</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="stage-1" class="level4">
<h4 class="anchored" data-anchor-id="stage-1">Stage 1</h4>
<div id="02c4ff73" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Initial Tuning Trial for XGBoost models</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> xgb_objective_stage1(trial):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"tree_method"</span>: <span class="st">"hist"</span>, </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"device"</span>: <span class="st">"cuda"</span>,</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"objective"</span>: <span class="st">"binary:logistic"</span>,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eval_metric"</span>: <span class="st">"auc"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"max_depth"</span>: trial.suggest_int(<span class="st">"max_depth"</span>, <span class="dv">3</span>, <span class="dv">12</span>),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eta"</span>: trial.suggest_float(<span class="st">"eta"</span>, <span class="fl">1e-3</span>, <span class="fl">0.3</span>, log<span class="op">=</span><span class="va">True</span>),</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"subsample"</span>: trial.suggest_float(<span class="st">"subsample"</span>, <span class="fl">0.5</span>, <span class="fl">1.0</span>),</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"colsample_bytree"</span>: trial.suggest_float(<span class="st">"colsample_bytree"</span>, <span class="fl">0.5</span>, <span class="fl">1.0</span>),</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"lambda"</span>: trial.suggest_float(<span class="st">"lambda"</span>, <span class="dv">0</span>, <span class="fl">5.0</span>),</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alpha"</span>: trial.suggest_float(<span class="st">"alpha"</span>, <span class="dv">0</span>, <span class="fl">5.0</span>),</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"min_child_weight"</span>: trial.suggest_float(<span class="st">"min_child_weight"</span>, <span class="fl">0.1</span>, <span class="fl">10.0</span>, log<span class="op">=</span><span class="va">True</span>),</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'train/xgboost/stage1/data'</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    nested_folder <span class="op">=</span> <span class="st">'train/xgboost/stage1/data/training'</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    subsample <span class="op">=</span> file_subsample(<span class="ss">f'higgs_data/train.parquet'</span>, split_folder, sample_fraction<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    train_valid_pool, holdout_set <span class="op">=</span> file_train_test_split(subsample, split_folder, test_size<span class="op">=</span><span class="fl">0.15</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set <span class="op">=</span> file_train_test_split(train_valid_pool, nested_folder, test_size<span class="op">=</span><span class="fl">0.1739</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure no headers in the csv files for XGBoost</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    train_set <span class="op">=</span> csv_no_headers(train_set)</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    valid_set <span class="op">=</span> csv_no_headers(valid_set)</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    holdout_set <span class="op">=</span> csv_no_headers(holdout_set)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> xgb.DMatrix(<span class="ss">f"</span><span class="sc">{</span>train_set<span class="sc">}</span><span class="ss">?format=csv&amp;label_column=0"</span>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> xgb.DMatrix(<span class="ss">f"</span><span class="sc">{</span>valid_set<span class="sc">}</span><span class="ss">?format=csv&amp;label_column=0"</span>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Absolutely no logging</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>            model <span class="op">=</span> xgb.train(</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>                params,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>                num_boost_round<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>                evals<span class="op">=</span>[(dvalid, <span class="st">"validation"</span>)],</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>                early_stopping_rounds<span class="op">=</span><span class="dv">15</span>,</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>                callbacks<span class="op">=</span>[XGBoostPruningCallback(trial, <span class="st">"validation-auc"</span>)]</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    dtest <span class="op">=</span> xgb.DMatrix(<span class="ss">f"</span><span class="sc">{</span>holdout_set<span class="sc">}</span><span class="ss">?format=csv&amp;label_column=0"</span>)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>    preds <span class="op">=</span> model.predict(dtest)</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> roc_auc_score(dtest.get_label(), preds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="3e616938" class="cell" data-execution_count="12">
<div class="cell-output cell-output-stdout">
<pre><code>Best AUC: 0.828874
Best Parameters:
  max_depth: 11
  eta: 0.1547142990129133
  subsample: 0.8999642302021938
  colsample_bytree: 0.8663129398338727
  lambda: 0.017232539913536085
  alpha: 3.500529464963977
  min_child_weight: 2.453331243275374

Trials Completed:   40
Trials Pruned:  60
Total Trials:   100</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="6b16c32d-d711-4163-ba1e-85c4a0533999" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("6b16c32d-d711-4163-ba1e-85c4a0533999")) {                    Plotly.newPlot(                        "6b16c32d-d711-4163-ba1e-85c4a0533999",                        [{"mode":"markers","name":"Objective Value","x":[0,1,2,3,4,11,18,19,21,22,23,24,28,31,33,34,35,36,38,41,42,43,46,50,51,52,65,69,71,72,74,75,81,83,84,90,91,94,95,97],"y":[0.7994837607534585,0.7720359850002233,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8258264746330741,0.8163222801488781,0.8226775223110633,0.8211638124592009,0.8229036085051369,0.8227364536887969,0.8219274020230485,0.8267780484703592,0.8249701159188738,0.8288744993838297,0.8244299168933724,0.8258522050313181,0.8278592090339957,0.8263088025416414,0.8271156397700795,0.8273574665513987,0.8250112446587641,0.8265549970811834,0.8263867478434594,0.8238503955408705,0.8270249167212376,0.8256626635076633,0.8276263740147455,0.8272934149282611,0.8266568672067219,0.8281616729744959,0.827875441203318,0.8277093321509021,0.827980851183906,0.8265910891979331,0.8268320487774641,0.8265460567650014,0.8262847594773244,0.8272392460582666,0.8270281618179569],"type":"scatter"},{"mode":"lines","name":"Best Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"y":[0.7994837607534585,0.7994837607534585,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8169807127316802,0.8169807127316802,0.8169807127316802,0.8169807127316802,0.8169807127316802,0.8169807127316802,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8258264746330741,0.8267780484703592,0.8267780484703592,0.8267780484703592,0.8267780484703592,0.8267780484703592,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297,0.8288744993838297],"type":"scatter"},{"marker":{"color":"#cccccc"},"mode":"markers","name":"Infeasible Trial","showlegend":false,"x":[],"y":[],"type":"scatter"}],                        {"title":{"text":"Optimization History Plot"},"xaxis":{"title":{"text":"Trial"}},"yaxis":{"title":{"text":"Objective Value"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('6b16c32d-d711-4163-ba1e-85c4a0533999');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="a96cde8a-f02a-46f5-8173-b02ab11e6621" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("a96cde8a-f02a-46f5-8173-b02ab11e6621")) {                    Plotly.newPlot(                        "a96cde8a-f02a-46f5-8173-b02ab11e6621",                        [{"cliponaxis":false,"hovertemplate":["max_depth (IntDistribution): 0.005168547156088989\u003cextra\u003e\u003c\u002fextra\u003e","lambda (FloatDistribution): 0.011136151265438788\u003cextra\u003e\u003c\u002fextra\u003e","subsample (FloatDistribution): 0.04402129491913999\u003cextra\u003e\u003c\u002fextra\u003e","min_child_weight (FloatDistribution): 0.085160524837009\u003cextra\u003e\u003c\u002fextra\u003e","alpha (FloatDistribution): 0.10389385332831183\u003cextra\u003e\u003c\u002fextra\u003e","colsample_bytree (FloatDistribution): 0.12424640969683542\u003cextra\u003e\u003c\u002fextra\u003e","eta (FloatDistribution): 0.626373218797176\u003cextra\u003e\u003c\u002fextra\u003e"],"name":"Objective Value","orientation":"h","text":["\u003c0.01","0.01","0.04","0.09","0.10","0.12","0.63"],"textposition":"outside","x":[0.005168547156088989,0.011136151265438788,0.04402129491913999,0.085160524837009,0.10389385332831183,0.12424640969683542,0.626373218797176],"y":["max_depth","lambda","subsample","min_child_weight","alpha","colsample_bytree","eta"],"type":"bar"}],                        {"title":{"text":"Hyperparameter Importances"},"xaxis":{"title":{"text":"Hyperparameter Importance"}},"yaxis":{"title":{"text":"Hyperparameter"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('a96cde8a-f02a-46f5-8173-b02ab11e6621');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="c426110d-9ac7-45aa-89a8-d6165afee2db" class="plotly-graph-div" style="height:525px; width:2100px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c426110d-9ac7-45aa-89a8-d6165afee2db")) {                    Plotly.newPlot(                        "c426110d-9ac7-45aa-89a8-d6165afee2db",                        [{"marker":{"color":[0,1,2,3,4,11,18,19,21,22,23,24,28,31,33,34,35,36,38,41,42,43,46,50,51,52,65,69,71,72,74,75,81,83,84,90,91,94,95,97],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":true},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.2631532775028439,2.0056052473482175,0.3832489999619665,4.954660484537764,1.6184166914031284,4.03745055198761,1.7299324102537033,4.504531276845755,2.7539034374878386,3.6733542321551917,3.8116968155228212,3.6267035271674306,2.5204429427452695,3.2261010034843425,3.500529464963977,2.6026919089044114,3.068835511869254,3.0023241877885787,2.970082774037373,3.078360599029873,2.8714878136646447,2.7854753555609553,2.229899180747454,0.011318591826046998,2.1555610682479633,2.393631574520017,2.746981020578006,2.3001313120541553,2.2420109647606625,2.31159388928806,2.531944721135401,3.6208613547796658,2.6575699307052183,2.667152363951228,4.7590760306852715,3.9871456909482084,3.290983497137329,2.486919781773855,3.0086075548534192,2.71629211829405],"y":[0.7994837607534585,0.7720359850002233,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8258264746330741,0.8163222801488781,0.8226775223110633,0.8211638124592009,0.8229036085051369,0.8227364536887969,0.8219274020230485,0.8267780484703592,0.8249701159188738,0.8288744993838297,0.8244299168933724,0.8258522050313181,0.8278592090339957,0.8263088025416414,0.8271156397700795,0.8273574665513987,0.8250112446587641,0.8265549970811834,0.8263867478434594,0.8238503955408705,0.8270249167212376,0.8256626635076633,0.8276263740147455,0.8272934149282611,0.8266568672067219,0.8281616729744959,0.827875441203318,0.8277093321509021,0.827980851183906,0.8265910891979331,0.8268320487774641,0.8265460567650014,0.8262847594773244,0.8272392460582666,0.8270281618179569],"type":"scatter","xaxis":"x","yaxis":"y"},{"marker":{"color":[0,1,2,3,4,11,18,19,21,22,23,24,28,31,33,34,35,36,38,41,42,43,46,50,51,52,65,69,71,72,74,75,81,83,84,90,91,94,95,97],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.5632570418383049,0.5894077703701162,0.6936863610403341,0.798365073288454,0.6595725947400604,0.6481570511101009,0.5536437508673122,0.5785417185660047,0.725351177103449,0.7288366733523399,0.6168814596980096,0.7101936418146512,0.8774208033836799,0.864067837545959,0.8663129398338727,0.9286410338441117,0.8625165804337541,0.833307351461502,0.9510159973271743,0.8231576184796896,0.8189889053364372,0.7830273248259061,0.8741306964010546,0.9026448227301643,0.8744542533876174,0.885224994264009,0.9099595178754896,0.9432818675015504,0.9672039312445331,0.9828520903973366,0.9603218746158275,0.9633186602715385,0.9601708421404312,0.9847350666785407,0.986933721405606,0.9487140558447383,0.9820374866064979,0.8153606040197662,0.9746767127752386,0.9910908168939121],"y":[0.7994837607534585,0.7720359850002233,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8258264746330741,0.8163222801488781,0.8226775223110633,0.8211638124592009,0.8229036085051369,0.8227364536887969,0.8219274020230485,0.8267780484703592,0.8249701159188738,0.8288744993838297,0.8244299168933724,0.8258522050313181,0.8278592090339957,0.8263088025416414,0.8271156397700795,0.8273574665513987,0.8250112446587641,0.8265549970811834,0.8263867478434594,0.8238503955408705,0.8270249167212376,0.8256626635076633,0.8276263740147455,0.8272934149282611,0.8266568672067219,0.8281616729744959,0.827875441203318,0.8277093321509021,0.827980851183906,0.8265910891979331,0.8268320487774641,0.8265460567650014,0.8262847594773244,0.8272392460582666,0.8270281618179569],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"marker":{"color":[0,1,2,3,4,11,18,19,21,22,23,24,28,31,33,34,35,36,38,41,42,43,46,50,51,52,65,69,71,72,74,75,81,83,84,90,91,94,95,97],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.0010059679560593458,0.003615759635906092,0.003675999139737741,0.011796398587366676,0.20865096280813425,0.16402996343055748,0.2633283906582169,0.15641471235955537,0.12857914941794527,0.10224188804307242,0.07745803505335037,0.08231254547261534,0.07975051729655758,0.08121978872710435,0.1547142990129133,0.17999488981237305,0.15351879985787475,0.16716609027661977,0.15513729032099163,0.14313320238828137,0.12081307509547762,0.10498345145121497,0.11278563376447283,0.13263352767600878,0.1831142178869285,0.11669196584405604,0.11905812175981399,0.1503688406234587,0.15427640825154948,0.15392504327395481,0.1410342964278445,0.14107953168227866,0.1310356331732072,0.1398384430078512,0.12826297770115966,0.15143795695984194,0.13810870763717237,0.1216654565748452,0.17731881266172986,0.17527339927034785],"y":[0.7994837607534585,0.7720359850002233,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8258264746330741,0.8163222801488781,0.8226775223110633,0.8211638124592009,0.8229036085051369,0.8227364536887969,0.8219274020230485,0.8267780484703592,0.8249701159188738,0.8288744993838297,0.8244299168933724,0.8258522050313181,0.8278592090339957,0.8263088025416414,0.8271156397700795,0.8273574665513987,0.8250112446587641,0.8265549970811834,0.8263867478434594,0.8238503955408705,0.8270249167212376,0.8256626635076633,0.8276263740147455,0.8272934149282611,0.8266568672067219,0.8281616729744959,0.827875441203318,0.8277093321509021,0.827980851183906,0.8265910891979331,0.8268320487774641,0.8265460567650014,0.8262847594773244,0.8272392460582666,0.8270281618179569],"type":"scatter","xaxis":"x3","yaxis":"y3"},{"marker":{"color":[0,1,2,3,4,11,18,19,21,22,23,24,28,31,33,34,35,36,38,41,42,43,46,50,51,52,65,69,71,72,74,75,81,83,84,90,91,94,95,97],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[1.5366896660670393,4.002937040742179,1.0781782721958049,1.569045742299226,4.778197073721931,0.03760782715034994,0.37322120667221625,0.7706104133180292,4.985595743497189,0.14213136032392104,0.14931775736562658,0.0005061845802614151,0.4340829513686184,0.06727924802909735,0.017232539913536085,1.0248540834963797,0.476715894558898,1.7708111568534362,1.8324121301666798,1.4121807799040038,1.5962324552258085,2.218503993250053,1.1095303945802557,1.2887160342752473,1.1193627129182144,1.7051569957344652,1.5089993600460885,2.077507295503849,1.416851048658868,2.0538061290156264,1.3477509496043667,1.388397845315667,1.5337319528983497,1.3711004732834917,1.8064360222817577,1.4702563869139533,1.3438750337205267,2.465662232236757,1.044360540464816,1.8949443270324522],"y":[0.7994837607534585,0.7720359850002233,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8258264746330741,0.8163222801488781,0.8226775223110633,0.8211638124592009,0.8229036085051369,0.8227364536887969,0.8219274020230485,0.8267780484703592,0.8249701159188738,0.8288744993838297,0.8244299168933724,0.8258522050313181,0.8278592090339957,0.8263088025416414,0.8271156397700795,0.8273574665513987,0.8250112446587641,0.8265549970811834,0.8263867478434594,0.8238503955408705,0.8270249167212376,0.8256626635076633,0.8276263740147455,0.8272934149282611,0.8266568672067219,0.8281616729744959,0.827875441203318,0.8277093321509021,0.827980851183906,0.8265910891979331,0.8268320487774641,0.8265460567650014,0.8262847594773244,0.8272392460582666,0.8270281618179569],"type":"scatter","xaxis":"x4","yaxis":"y4"},{"marker":{"color":[0,1,2,3,4,11,18,19,21,22,23,24,28,31,33,34,35,36,38,41,42,43,46,50,51,52,65,69,71,72,74,75,81,83,84,90,91,94,95,97],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[12,6,12,11,6,10,10,12,8,10,11,10,10,11,11,12,11,12,12,11,11,11,12,11,12,12,10,12,12,12,11,11,12,12,12,12,11,12,11,11],"y":[0.7994837607534585,0.7720359850002233,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8258264746330741,0.8163222801488781,0.8226775223110633,0.8211638124592009,0.8229036085051369,0.8227364536887969,0.8219274020230485,0.8267780484703592,0.8249701159188738,0.8288744993838297,0.8244299168933724,0.8258522050313181,0.8278592090339957,0.8263088025416414,0.8271156397700795,0.8273574665513987,0.8250112446587641,0.8265549970811834,0.8263867478434594,0.8238503955408705,0.8270249167212376,0.8256626635076633,0.8276263740147455,0.8272934149282611,0.8266568672067219,0.8281616729744959,0.827875441203318,0.8277093321509021,0.827980851183906,0.8265910891979331,0.8268320487774641,0.8265460567650014,0.8262847594773244,0.8272392460582666,0.8270281618179569],"type":"scatter","xaxis":"x5","yaxis":"y5"},{"marker":{"color":[0,1,2,3,4,11,18,19,21,22,23,24,28,31,33,34,35,36,38,41,42,43,46,50,51,52,65,69,71,72,74,75,81,83,84,90,91,94,95,97],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[2.2040131132727536,0.12949334322802947,3.8615457270504345,0.7440958005987293,0.14257396477655931,0.5521189793283062,4.88070186470806,3.6170104343760285,1.9882387294377224,1.7504408202537796,1.7379339778627734,1.5527807424207247,2.137864371569856,2.1179559763027225,2.453331243275374,2.5709891387871644,1.224065208803684,1.0841596682221988,0.773870388607395,1.2029464067157494,0.6288893088658188,0.4531623273369915,3.004070127217688,1.140085557273767,3.247507366548558,2.915073263825103,2.4034867036188516,1.0689625287213742,1.435574624405462,1.3676437136048722,0.6638128473055414,0.543328868464378,0.6062296912356744,0.5750216429742288,0.5539313941225097,0.85552828593425,0.1870510341887004,0.9455167412027484,0.4878213617178978,0.5124620932287165],"y":[0.7994837607534585,0.7720359850002233,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8258264746330741,0.8163222801488781,0.8226775223110633,0.8211638124592009,0.8229036085051369,0.8227364536887969,0.8219274020230485,0.8267780484703592,0.8249701159188738,0.8288744993838297,0.8244299168933724,0.8258522050313181,0.8278592090339957,0.8263088025416414,0.8271156397700795,0.8273574665513987,0.8250112446587641,0.8265549970811834,0.8263867478434594,0.8238503955408705,0.8270249167212376,0.8256626635076633,0.8276263740147455,0.8272934149282611,0.8266568672067219,0.8281616729744959,0.827875441203318,0.8277093321509021,0.827980851183906,0.8265910891979331,0.8268320487774641,0.8265460567650014,0.8262847594773244,0.8272392460582666,0.8270281618179569],"type":"scatter","xaxis":"x6","yaxis":"y6"},{"marker":{"color":[0,1,2,3,4,11,18,19,21,22,23,24,28,31,33,34,35,36,38,41,42,43,46,50,51,52,65,69,71,72,74,75,81,83,84,90,91,94,95,97],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.9197694538019291,0.6427861578806819,0.9499647763665482,0.8205011048822544,0.8499392318528094,0.8042457129521721,0.6492173079704693,0.6631328256912181,0.8933927053853332,0.8820448974728063,0.7219905225187521,0.7300460108469502,0.7570374231886218,0.760998583763513,0.8999642302021938,0.8188693582065273,0.7035153487174425,0.9169622492713687,0.9195483879845495,0.9503329459559109,0.9661649564647914,0.9706122377077792,0.9311754942401445,0.9364319082590236,0.9342322291416717,0.8793986292328428,0.9242026588647014,0.975249957112999,0.9989304860876617,0.9961298913332856,0.9797241983598529,0.9862333766845203,0.9542382331141926,0.9882839683117619,0.9864751144230998,0.9579176688096934,0.9740742311603298,0.962556102117921,0.9863254867319255,0.9768390945912175],"y":[0.7994837607534585,0.7720359850002233,0.8080597814891196,0.8088048966001972,0.8169807127316802,0.8258264746330741,0.8163222801488781,0.8226775223110633,0.8211638124592009,0.8229036085051369,0.8227364536887969,0.8219274020230485,0.8267780484703592,0.8249701159188738,0.8288744993838297,0.8244299168933724,0.8258522050313181,0.8278592090339957,0.8263088025416414,0.8271156397700795,0.8273574665513987,0.8250112446587641,0.8265549970811834,0.8263867478434594,0.8238503955408705,0.8270249167212376,0.8256626635076633,0.8276263740147455,0.8272934149282611,0.8266568672067219,0.8281616729744959,0.827875441203318,0.8277093321509021,0.827980851183906,0.8265910891979331,0.8268320487774641,0.8265460567650014,0.8262847594773244,0.8272392460582666,0.8270281618179569],"type":"scatter","xaxis":"x7","yaxis":"y7"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,0.1183673469387755],"title":{"text":"alpha"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Objective Value"}},"xaxis2":{"anchor":"y2","domain":[0.14693877551020407,0.26530612244897955],"title":{"text":"colsample_bytree"}},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis3":{"anchor":"y3","domain":[0.29387755102040813,0.4122448979591836],"title":{"text":"eta"},"type":"log"},"yaxis3":{"anchor":"x3","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis4":{"anchor":"y4","domain":[0.4408163265306122,0.5591836734693877],"title":{"text":"lambda"}},"yaxis4":{"anchor":"x4","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis5":{"anchor":"y5","domain":[0.5877551020408163,0.7061224489795918],"title":{"text":"max_depth"}},"yaxis5":{"anchor":"x5","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis6":{"anchor":"y6","domain":[0.7346938775510204,0.8530612244897959],"title":{"text":"min_child_weight"},"type":"log"},"yaxis6":{"anchor":"x6","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis7":{"anchor":"y7","domain":[0.8816326530612244,0.9999999999999999],"title":{"text":"subsample"}},"yaxis7":{"anchor":"x7","domain":[0.0,1.0],"matches":"y","showticklabels":false},"title":{"text":"Slice Plot"},"width":2100},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c426110d-9ac7-45aa-89a8-d6165afee2db');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="stage-2" class="level4">
<h4 class="anchored" data-anchor-id="stage-2">Stage 2</h4>
<div id="14a96e38" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Second, Narrower Tuning Trial for XGBoost models</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> xgb_objective_stage2(trial):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"tree_method"</span>: <span class="st">"hist"</span>, </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># "device": "cuda", # my system doesn't have enough VRAM</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"objective"</span>: <span class="st">"binary:logistic"</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eval_metric"</span>: <span class="st">"auc"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Untouched as its related to the boosting rounds</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eta"</span>: trial.suggest_float(<span class="st">"eta"</span>, <span class="fl">1e-3</span>, <span class="fl">0.3</span>, log<span class="op">=</span><span class="va">True</span>),</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Hyperparameters to tune further</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"max_depth"</span>: new_range(trial, xgb_study1, <span class="st">"max_depth"</span>),</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"subsample"</span>: new_range(trial, xgb_study1, <span class="st">"subsample"</span>, upper_bound<span class="op">=</span><span class="fl">1.0</span>),</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"colsample_bytree"</span>: new_range(trial, xgb_study1, <span class="st">"colsample_bytree"</span>, upper_bound<span class="op">=</span><span class="fl">1.0</span>),</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"lambda"</span>: new_range(trial, xgb_study1, <span class="st">"lambda"</span>),</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"alpha"</span>: new_range(trial, xgb_study1, <span class="st">"alpha"</span>),</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"min_child_weight"</span>: new_range(trial, xgb_study1, <span class="st">"min_child_weight"</span>),</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'train/xgboost/stage2/data'</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    nested_folder <span class="op">=</span> <span class="st">'train/xgboost/stage2/data/training'</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    subsample <span class="op">=</span> file_subsample(<span class="ss">f'higgs_data/train.parquet'</span>, split_folder, sample_fraction<span class="op">=</span><span class="fl">0.2</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    train_valid_pool, holdout_set <span class="op">=</span> file_train_test_split(subsample, split_folder, test_size<span class="op">=</span><span class="fl">0.15</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set <span class="op">=</span> file_train_test_split(train_valid_pool, nested_folder, test_size<span class="op">=</span><span class="fl">0.1739</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure no headers in the csv files for XGBoost</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    train_set <span class="op">=</span> csv_no_headers(train_set)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    valid_set <span class="op">=</span> csv_no_headers(valid_set)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    holdout_set <span class="op">=</span> csv_no_headers(holdout_set)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> xgb.DMatrix(<span class="ss">f"</span><span class="sc">{</span>train_set<span class="sc">}</span><span class="ss">?format=csv&amp;label_column=0"</span>)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> xgb.DMatrix(<span class="ss">f"</span><span class="sc">{</span>valid_set<span class="sc">}</span><span class="ss">?format=csv&amp;label_column=0"</span>)</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Absolutely no logging</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>            model <span class="op">=</span> xgb.train(</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>                params,</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>                num_boost_round<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>                evals<span class="op">=</span>[(dvalid, <span class="st">"validation"</span>)],</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>                early_stopping_rounds<span class="op">=</span><span class="dv">50</span>,</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>                callbacks<span class="op">=</span>[XGBoostPruningCallback(trial, <span class="st">"validation-auc"</span>)]</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>    dtest <span class="op">=</span> xgb.DMatrix(<span class="ss">f"</span><span class="sc">{</span>holdout_set<span class="sc">}</span><span class="ss">?format=csv&amp;label_column=0"</span>)</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    preds <span class="op">=</span> model.predict(dtest)</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> roc_auc_score(dtest.get_label(), preds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="641dd726" class="cell" data-execution_count="14">
<div class="cell-output cell-output-stdout">
<pre><code>Best AUC: 0.840405
Best Parameters:
  eta: 0.0629009704288548
  max_depth: 14
  subsample: 0.9178089869586685
  colsample_bytree: 0.9418245010217486
  lambda: 0.015802936707377313
  alpha: 3.1023815324794835
  min_child_weight: 2.6517598529391146

Trials Completed:   15
Trials Pruned:  35
Total Trials:   50</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="01e2defc-03b8-4357-a8f5-d68f7a98b530" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("01e2defc-03b8-4357-a8f5-d68f7a98b530")) {                    Plotly.newPlot(                        "01e2defc-03b8-4357-a8f5-d68f7a98b530",                        [{"mode":"markers","name":"Objective Value","x":[0,1,4,5,6,11,13,15,22,23,26,36,37,39,49],"y":[0.8335260619891082,0.8364986298182708,0.839388632785355,0.8384620352537804,0.8293094387033826,0.8400532713353254,0.8305940803405859,0.8323741132407168,0.8399336744832733,0.8320116895210743,0.8404050997968826,0.8316349374967285,0.8376549242429061,0.8345706530467718,0.832401107487883],"type":"scatter"},{"mode":"lines","name":"Best Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"y":[0.8335260619891082,0.8364986298182708,0.8364986298182708,0.8364986298182708,0.839388632785355,0.839388632785355,0.839388632785355,0.839388632785355,0.839388632785355,0.839388632785355,0.839388632785355,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8400532713353254,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826,0.8404050997968826],"type":"scatter"},{"marker":{"color":"#cccccc"},"mode":"markers","name":"Infeasible Trial","showlegend":false,"x":[],"y":[],"type":"scatter"}],                        {"title":{"text":"Optimization History Plot"},"xaxis":{"title":{"text":"Trial"}},"yaxis":{"title":{"text":"Objective Value"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('01e2defc-03b8-4357-a8f5-d68f7a98b530');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="d579fd9f-68e9-49ef-bb18-7579f7b9c678" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d579fd9f-68e9-49ef-bb18-7579f7b9c678")) {                    Plotly.newPlot(                        "d579fd9f-68e9-49ef-bb18-7579f7b9c678",                        [{"cliponaxis":false,"hovertemplate":["alpha (FloatDistribution): 0.00963327408309411\u003cextra\u003e\u003c\u002fextra\u003e","colsample_bytree (FloatDistribution): 0.01425828130062511\u003cextra\u003e\u003c\u002fextra\u003e","subsample (FloatDistribution): 0.021278334828964643\u003cextra\u003e\u003c\u002fextra\u003e","lambda (FloatDistribution): 0.04981028197750803\u003cextra\u003e\u003c\u002fextra\u003e","min_child_weight (FloatDistribution): 0.05307812358379578\u003cextra\u003e\u003c\u002fextra\u003e","max_depth (IntDistribution): 0.15453115566637507\u003cextra\u003e\u003c\u002fextra\u003e","eta (FloatDistribution): 0.6974105485596372\u003cextra\u003e\u003c\u002fextra\u003e"],"name":"Objective Value","orientation":"h","text":["\u003c0.01","0.01","0.02","0.05","0.05","0.15","0.70"],"textposition":"outside","x":[0.00963327408309411,0.01425828130062511,0.021278334828964643,0.04981028197750803,0.05307812358379578,0.15453115566637507,0.6974105485596372],"y":["alpha","colsample_bytree","subsample","lambda","min_child_weight","max_depth","eta"],"type":"bar"}],                        {"title":{"text":"Hyperparameter Importances"},"xaxis":{"title":{"text":"Hyperparameter Importance"}},"yaxis":{"title":{"text":"Hyperparameter"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d579fd9f-68e9-49ef-bb18-7579f7b9c678');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="688d32fc-3a44-49e3-a5cc-1e6cc0bfbc2a" class="plotly-graph-div" style="height:525px; width:2100px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("688d32fc-3a44-49e3-a5cc-1e6cc0bfbc2a")) {                    Plotly.newPlot(                        "688d32fc-3a44-49e3-a5cc-1e6cc0bfbc2a",                        [{"marker":{"color":[0,1,4,5,6,11,13,15,22,23,26,36,37,39,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":true},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[3.0226738442887124,4.145604163509292,3.023533940917771,3.592890858845938,3.7295864181307103,3.369843924384693,3.2482318814028845,2.8407360178205576,3.667150046568782,3.9835431728281425,3.1023815324794835,3.3039530449933925,3.0054119241006707,4.10511276413598,3.210042738248369],"y":[0.8335260619891082,0.8364986298182708,0.839388632785355,0.8384620352537804,0.8293094387033826,0.8400532713353254,0.8305940803405859,0.8323741132407168,0.8399336744832733,0.8320116895210743,0.8404050997968826,0.8316349374967285,0.8376549242429061,0.8345706530467718,0.832401107487883],"type":"scatter","xaxis":"x","yaxis":"y"},{"marker":{"color":[0,1,4,5,6,11,13,15,22,23,26,36,37,39,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.973153198962677,0.6984153124489344,0.9070829765878445,0.8068032464790257,0.9511605604550982,0.8041678904520048,0.7850683350547201,0.8396008946034994,0.8255627907222615,0.8454370151922875,0.9418245010217486,0.80039317745324,0.8632227511332408,0.9765609467975203,0.9626250294198445],"y":[0.8335260619891082,0.8364986298182708,0.839388632785355,0.8384620352537804,0.8293094387033826,0.8400532713353254,0.8305940803405859,0.8323741132407168,0.8399336744832733,0.8320116895210743,0.8404050997968826,0.8316349374967285,0.8376549242429061,0.8345706530467718,0.832401107487883],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"marker":{"color":[0,1,4,5,6,11,13,15,22,23,26,36,37,39,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.022853564381977116,0.02755906229703084,0.06417564872614197,0.07588400579704511,0.2994757019504705,0.0717024483741043,0.21867179129123687,0.13811303829071694,0.06536995485831784,0.19977728355148314,0.0629009704288548,0.20884340501349355,0.09243334360444681,0.173032979765625,0.158588689555028],"y":[0.8335260619891082,0.8364986298182708,0.839388632785355,0.8384620352537804,0.8293094387033826,0.8400532713353254,0.8305940803405859,0.8323741132407168,0.8399336744832733,0.8320116895210743,0.8404050997968826,0.8316349374967285,0.8376549242429061,0.8345706530467718,0.832401107487883],"type":"scatter","xaxis":"x3","yaxis":"y3"},{"marker":{"color":[0,1,4,5,6,11,13,15,22,23,26,36,37,39,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.016434544399635032,0.01951625839479226,0.01978977015980197,0.01648770082520371,0.01851938019634914,0.015564768685145598,0.015473083302103006,0.017961148343919313,0.017110201214198446,0.017158481136974775,0.015802936707377313,0.01928822073624745,0.016173812803538388,0.016640091486523564,0.01643722995521876],"y":[0.8335260619891082,0.8364986298182708,0.839388632785355,0.8384620352537804,0.8293094387033826,0.8400532713353254,0.8305940803405859,0.8323741132407168,0.8399336744832733,0.8320116895210743,0.8404050997968826,0.8316349374967285,0.8376549242429061,0.8345706530467718,0.832401107487883],"type":"scatter","xaxis":"x4","yaxis":"y4"},{"marker":{"color":[0,1,4,5,6,11,13,15,22,23,26,36,37,39,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[9,10,11,13,11,13,12,12,13,11,14,11,13,11,12],"y":[0.8335260619891082,0.8364986298182708,0.839388632785355,0.8384620352537804,0.8293094387033826,0.8400532713353254,0.8305940803405859,0.8323741132407168,0.8399336744832733,0.8320116895210743,0.8404050997968826,0.8316349374967285,0.8376549242429061,0.8345706530467718,0.832401107487883],"type":"scatter","xaxis":"x5","yaxis":"y5"},{"marker":{"color":[0,1,4,5,6,11,13,15,22,23,26,36,37,39,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[2.287293362883769,2.1787845902750003,2.7231538428641096,2.307738364208487,2.709875475683848,2.511533253815008,2.8195834555448176,2.7028837798936456,2.581813196278472,2.6134465620106644,2.6517598529391146,2.6509035073817735,2.8659789185717788,2.193054757229874,2.1250314409054236],"y":[0.8335260619891082,0.8364986298182708,0.839388632785355,0.8384620352537804,0.8293094387033826,0.8400532713353254,0.8305940803405859,0.8323741132407168,0.8399336744832733,0.8320116895210743,0.8404050997968826,0.8316349374967285,0.8376549242429061,0.8345706530467718,0.832401107487883],"type":"scatter","xaxis":"x6","yaxis":"y6"},{"marker":{"color":[0,1,4,5,6,11,13,15,22,23,26,36,37,39,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.8883156768544471,0.7662939235478679,0.8927247687187552,0.8469017818693262,0.9736283959448337,0.9328415832561804,0.9425117017741645,0.8026330550161297,0.8480382399556403,0.879422264942195,0.9178089869586685,0.9444736377294891,0.8978604355981595,0.8339903214679327,0.8852819421838181],"y":[0.8335260619891082,0.8364986298182708,0.839388632785355,0.8384620352537804,0.8293094387033826,0.8400532713353254,0.8305940803405859,0.8323741132407168,0.8399336744832733,0.8320116895210743,0.8404050997968826,0.8316349374967285,0.8376549242429061,0.8345706530467718,0.832401107487883],"type":"scatter","xaxis":"x7","yaxis":"y7"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,0.1183673469387755],"title":{"text":"alpha"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Objective Value"}},"xaxis2":{"anchor":"y2","domain":[0.14693877551020407,0.26530612244897955],"title":{"text":"colsample_bytree"}},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis3":{"anchor":"y3","domain":[0.29387755102040813,0.4122448979591836],"title":{"text":"eta"},"type":"log"},"yaxis3":{"anchor":"x3","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis4":{"anchor":"y4","domain":[0.4408163265306122,0.5591836734693877],"title":{"text":"lambda"}},"yaxis4":{"anchor":"x4","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis5":{"anchor":"y5","domain":[0.5877551020408163,0.7061224489795918],"title":{"text":"max_depth"}},"yaxis5":{"anchor":"x5","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis6":{"anchor":"y6","domain":[0.7346938775510204,0.8530612244897959],"title":{"text":"min_child_weight"}},"yaxis6":{"anchor":"x6","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis7":{"anchor":"y7","domain":[0.8816326530612244,0.9999999999999999],"title":{"text":"subsample"}},"yaxis7":{"anchor":"x7","domain":[0.0,1.0],"matches":"y","showticklabels":false},"title":{"text":"Slice Plot"},"width":2100},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('688d32fc-3a44-49e3-a5cc-1e6cc0bfbc2a');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="stage-3" class="level4">
<h4 class="anchored" data-anchor-id="stage-3">Stage 3</h4>
<div id="c92ce49a" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Final fitting for XGBoost model</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> xgb_objective_stage3(best_params):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"tree_method"</span>: <span class="st">"hist"</span>, </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># "device": "cuda", # my system doesn't have enough VRAM</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"objective"</span>: <span class="st">"binary:logistic"</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eval_metric"</span>: <span class="st">"auc"</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'train/xgboost/stage3/data'</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set  <span class="op">=</span> file_train_test_split(<span class="ss">f'higgs_data/train.parquet'</span>, split_folder, test_size<span class="op">=</span><span class="fl">0.2</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ensure no headers in the csv files for XGBoost</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    train_set <span class="op">=</span> csv_no_headers(train_set)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    valid_set <span class="op">=</span> csv_no_headers(valid_set)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> xgb.DMatrix(<span class="ss">f"</span><span class="sc">{</span>train_set<span class="sc">}</span><span class="ss">?format=csv&amp;label_column=0"</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> xgb.DMatrix(<span class="ss">f"</span><span class="sc">{</span>valid_set<span class="sc">}</span><span class="ss">?format=csv&amp;label_column=0"</span>)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Absolutely no logging</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>            baseline_model <span class="op">=</span> xgb.train(</span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>                params,</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>                num_boost_round<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>                evals<span class="op">=</span>[(dvalid, <span class="st">"validation"</span>)],</span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>                early_stopping_rounds<span class="op">=</span><span class="dv">50</span>,</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    baseline_model.save_model(<span class="st">"models/baseline_xgb.json"</span>)</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    params.update(best_params)</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Absolutely no logging</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>            tuned_model <span class="op">=</span> xgb.train(</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>                params,</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>                num_boost_round<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>                evals<span class="op">=</span>[(dvalid, <span class="st">"validation"</span>)],</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>                early_stopping_rounds<span class="op">=</span><span class="dv">50</span>,</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    tuned_model.save_model(<span class="st">"models/tuned_xgb.json"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<section id="stage-1-1" class="level4">
<h4 class="anchored" data-anchor-id="stage-1-1">Stage 1</h4>
<div id="5c8cd539" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>Initial Tuning Trial for LightGBM models</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> lgb_objective_stage1(trial):</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"device"</span>: <span class="st">"gpu"</span>,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"gpu_platform_id"</span>: <span class="dv">1</span>,   <span class="co"># My GPU is on platform 1</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"gpu_device_id"</span>: <span class="dv">0</span>, </span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"objective"</span>: <span class="st">"binary"</span>,</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"metric"</span>: <span class="st">"auc"</span>,</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"boosting_type"</span>: <span class="st">"gbdt"</span>,</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"verbosity"</span>: <span class="op">-</span><span class="dv">1</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"tree_learner"</span>: <span class="st">"serial"</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"max_depth"</span>: trial.suggest_int(<span class="st">"max_depth"</span>, <span class="dv">3</span>, <span class="dv">12</span>),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"num_leaves"</span>: trial.suggest_int(<span class="st">"num_leaves"</span>, <span class="dv">64</span>, <span class="dv">512</span>),</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"learning_rate"</span>: trial.suggest_float(<span class="st">"learning_rate"</span>, <span class="fl">1e-3</span>, <span class="fl">0.3</span>, log<span class="op">=</span><span class="va">True</span>),</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"feature_fraction"</span>: trial.suggest_float(<span class="st">"feature_fraction"</span>, <span class="fl">0.5</span>, <span class="fl">1.0</span>),</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"bagging_fraction"</span>: trial.suggest_float(<span class="st">"bagging_fraction"</span>, <span class="fl">0.5</span>, <span class="fl">1.0</span>),</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"bagging_freq"</span>: trial.suggest_int(<span class="st">"bagging_freq"</span>, <span class="dv">1</span>, <span class="dv">10</span>),</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"lambda_l1"</span>: trial.suggest_float(<span class="st">"lambda_l1"</span>, <span class="dv">0</span>, <span class="fl">5.0</span>),</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"lambda_l2"</span>: trial.suggest_float(<span class="st">"lambda_l2"</span>, <span class="dv">0</span>, <span class="fl">5.0</span>),</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">"min_child_samples"</span>: trial.suggest_int(<span class="st">"min_child_samples"</span>, <span class="dv">10</span>, <span class="dv">100</span>),</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'train/lightgbm/stage1/data'</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    nested_folder <span class="op">=</span> <span class="st">'train/lightgbm/stage1/data/training'</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    <span class="co"># train (70) / valid (15) / test (15) split from 10% subsample</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    subsample <span class="op">=</span> file_subsample(<span class="ss">f'higgs_data/train.parquet'</span>, split_folder, sample_fraction<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    train_valid_pool, holdout_set <span class="op">=</span> file_train_test_split(subsample, split_folder, test_size<span class="op">=</span><span class="fl">0.15</span>)</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># .15 / .85 = 0.1739</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set <span class="op">=</span> file_train_test_split(train_valid_pool, nested_folder, test_size<span class="op">=</span><span class="fl">0.1739</span>)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> lgb.Dataset(train_set, params<span class="op">=</span>{<span class="st">"label_column"</span>: <span class="st">"name:target"</span>, <span class="st">"header"</span>: <span class="va">True</span>})</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> lgb.Dataset(valid_set, params<span class="op">=</span>{<span class="st">"label_column"</span>: <span class="st">"name:target"</span>, <span class="st">"header"</span>: <span class="va">True</span>}, reference<span class="op">=</span>train_set)</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Absolutely no logging</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>            model <span class="op">=</span> lgb.train(</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>                params,</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>                valid_sets<span class="op">=</span>[dvalid],</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>                num_boost_round<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>                callbacks<span class="op">=</span>[</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>                    lgb.early_stopping(<span class="dv">15</span>),</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>                    LightGBMPruningCallback(trial, metric<span class="op">=</span><span class="st">"auc"</span>, valid_name<span class="op">=</span><span class="st">"valid_0"</span>)</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>                ],</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate "test" AUC</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>    dtest <span class="op">=</span> pd.read_csv(holdout_set, header<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>    X_test <span class="op">=</span> dtest.drop(columns<span class="op">=</span>[<span class="st">"target"</span>])</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>    y_test <span class="op">=</span> dtest[<span class="st">"target"</span>]</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>    preds <span class="op">=</span> model.predict(X_test, num_iteration<span class="op">=</span>model.best_iteration)</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> roc_auc_score(y_test, preds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="81ac6e6e" class="cell" data-execution_count="18">
<div class="cell-output cell-output-stdout">
<pre><code>Best AUC: 0.828430
Best Parameters:
  max_depth: 10
  num_leaves: 421
  learning_rate: 0.201954533136296
  feature_fraction: 0.9902102027965238
  bagging_fraction: 0.969514454676554
  bagging_freq: 6
  lambda_l1: 0.6074245213976025
  lambda_l2: 0.7594207035610583
  min_child_samples: 90

Trials Completed:   44
Trials Pruned:  56
Total Trials:   100</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="c575d6f7-64c6-43dd-9d9b-c923cc2a8c88" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c575d6f7-64c6-43dd-9d9b-c923cc2a8c88")) {                    Plotly.newPlot(                        "c575d6f7-64c6-43dd-9d9b-c923cc2a8c88",                        [{"mode":"markers","name":"Objective Value","x":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter"},{"mode":"lines","name":"Best Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"y":[0.7783445001523759,0.8159816595125902,0.8159816595125902,0.8159816595125902,0.8247295082142836,0.8247295082142836,0.8247295082142836,0.8247295082142836,0.8247295082142836,0.8247295082142836,0.8247295082142836,0.8247295082142836,0.8247295082142836,0.8247295082142836,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.826735771607461,0.8267763876916998,0.8267763876916998,0.8267763876916998,0.8267763876916998,0.8267763876916998,0.8275554716812399,0.8275554716812399,0.8275776211351167,0.8275776211351167,0.8275776211351167,0.8275776211351167,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823,0.8284304690441823],"type":"scatter"},{"marker":{"color":"#cccccc"},"mode":"markers","name":"Infeasible Trial","showlegend":false,"x":[],"y":[],"type":"scatter"}],                        {"title":{"text":"Optimization History Plot"},"xaxis":{"title":{"text":"Trial"}},"yaxis":{"title":{"text":"Objective Value"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c575d6f7-64c6-43dd-9d9b-c923cc2a8c88');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="c2b06b17-6270-43fc-a315-c7903b2c566d" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c2b06b17-6270-43fc-a315-c7903b2c566d")) {                    Plotly.newPlot(                        "c2b06b17-6270-43fc-a315-c7903b2c566d",                        [{"cliponaxis":false,"hovertemplate":["feature_fraction (FloatDistribution): 0.00368639809566579\u003cextra\u003e\u003c\u002fextra\u003e","bagging_fraction (FloatDistribution): 0.009357568093073528\u003cextra\u003e\u003c\u002fextra\u003e","lambda_l1 (FloatDistribution): 0.01559351492701932\u003cextra\u003e\u003c\u002fextra\u003e","lambda_l2 (FloatDistribution): 0.058206619364275305\u003cextra\u003e\u003c\u002fextra\u003e","min_child_samples (IntDistribution): 0.07573039650302114\u003cextra\u003e\u003c\u002fextra\u003e","bagging_freq (IntDistribution): 0.09209177853234123\u003cextra\u003e\u003c\u002fextra\u003e","num_leaves (IntDistribution): 0.1731978790365807\u003cextra\u003e\u003c\u002fextra\u003e","learning_rate (FloatDistribution): 0.26266705905559584\u003cextra\u003e\u003c\u002fextra\u003e","max_depth (IntDistribution): 0.3094687863924272\u003cextra\u003e\u003c\u002fextra\u003e"],"name":"Objective Value","orientation":"h","text":["\u003c0.01","\u003c0.01","0.02","0.06","0.08","0.09","0.17","0.26","0.31"],"textposition":"outside","x":[0.00368639809566579,0.009357568093073528,0.01559351492701932,0.058206619364275305,0.07573039650302114,0.09209177853234123,0.1731978790365807,0.26266705905559584,0.3094687863924272],"y":["feature_fraction","bagging_fraction","lambda_l1","lambda_l2","min_child_samples","bagging_freq","num_leaves","learning_rate","max_depth"],"type":"bar"}],                        {"title":{"text":"Hyperparameter Importances"},"xaxis":{"title":{"text":"Hyperparameter Importance"}},"yaxis":{"title":{"text":"Hyperparameter"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c2b06b17-6270-43fc-a315-c7903b2c566d');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="a28da890-b586-49c3-bbd1-f8702d84c500" class="plotly-graph-div" style="height:525px; width:2700px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("a28da890-b586-49c3-bbd1-f8702d84c500")) {                    Plotly.newPlot(                        "a28da890-b586-49c3-bbd1-f8702d84c500",                        [{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":true},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.8593754268996705,0.6369147240281348,0.7794807024573476,0.735021540307763,0.5996832315595004,0.6712010356478025,0.818572701332517,0.7923804090398665,0.5844467985989344,0.5588154491563445,0.6979995991310659,0.6992058796681562,0.6750702896967435,0.6707671944484163,0.7166616431573717,0.6714728593078126,0.7543724859519043,0.8218426595907322,0.8217233338624557,0.7633735185474558,0.7745215178770523,0.84682072250828,0.969514454676554,0.9975934710624204,0.9596594902821657,0.9436163317058361,0.997858449547008,0.9743762285615639,0.9089986635913342,0.8825940374030959,0.8844413229208472,0.9772163313072015,0.9308758821896116,0.8979540603181244,0.9296022977829093,0.9030063222105936,0.9381110946293366,0.7789145489650704,0.9682679483487393,0.7369314518125722,0.8722375535210611,0.8367561116958703,0.9387825385390005,0.9162307898977817],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x","yaxis":"y"},{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[10,2,1,10,10,4,2,2,8,8,9,6,7,7,10,7,6,7,3,6,7,6,6,6,6,6,5,5,6,5,3,5,5,5,4,4,5,5,7,4,6,5,6,7],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.9596253826129053,0.9051256017708202,0.5677983842533556,0.9625628250876364,0.7652215546355031,0.9223355713275654,0.8462432916734436,0.6584004710807256,0.5005302910767966,0.5141179774112156,0.7036314397947294,0.7728518058401328,0.8799488230092727,0.8975898245124868,0.999496174851692,0.788946856307564,0.9246370872865872,0.7964844999615028,0.8090974255986767,0.926196431272234,0.8710980646906138,0.9599284963038499,0.9902102027965238,0.9992843754840638,0.9510120756375567,0.9796855335935392,0.9440724590272775,0.9767219713357519,0.9539960905984306,0.9851802077944176,0.9860317601434233,0.9624849273999366,0.9663051613259432,0.9760844406972845,0.9780312503132449,0.9056485305238803,0.9741711331871511,0.9838084472713031,0.9615858162694791,0.9324021914428972,0.9728238282158251,0.9552597911844112,0.9877025113490981,0.8278796556106556],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x3","yaxis":"y3"},{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.41461375613606966,0.06698155478493839,1.7329614057287779,1.317650914269558,2.834683298441239,2.009243602244771,3.8042451192730398,3.1649510299909087,1.957684940573725,2.070429063977096,2.3908042794462374,2.4008484013085694,3.9704152333161216,3.8049601266456774,2.447597634382001,1.739172765515544,1.5839190803655363,0.8329602610086152,1.1095972809303034,1.5261850556725154,0.4218395118284479,0.8942782112683283,0.6074245213976025,0.6373833320965474,0.20425781383004415,0.6412107879129363,0.333211438514462,0.332149047374005,0.26160309450875385,0.503403991892519,1.2261731349264264,0.23655083122849346,0.007272289254169895,0.7535417702422859,0.7519794313534689,0.7527481516560792,0.5120168344146283,0.7823439896415132,0.470808826431129,0.25235446445621407,1.144066820726316,0.8428265498494362,1.0212858030556786,0.7257436433118738],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x4","yaxis":"y4"},{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[3.22637076142148,4.7945784063555505,2.8471366839855774,2.719739559136263,3.488751879336276,1.741663924067609,4.128728607770441,0.012449462521583188,2.017804254028877,1.9694583080542127,1.567642829342407,1.5628618090684896,1.5298141787484427,3.6431450548769155,1.5291332878915849,1.5554327325495352,1.4245742140802615,0.7080441689016392,0.6922127781656144,1.2858362087165782,1.257886789261409,0.8309929173569743,0.7594207035610583,0.021939311414538754,0.8940631488020553,0.8018775038116404,0.547918389180234,1.2458601035841637,0.9171698097866217,0.13167213866959981,0.28025320400877274,0.8224108016761198,0.6147744437651842,0.6239431190863503,0.5642071196186156,0.37664373035150156,0.26446222382244944,0.5427232032133218,0.001763415786909528,1.8667263473747244,0.4202072715579342,1.0517251950105155,1.3401904187483806,1.1371859253109855],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x5","yaxis":"y5"},{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.0068861449180189094,0.028457579018851525,0.0744715725122249,0.2741027927573365,0.10465884622364965,0.16507819578554633,0.19611103416299855,0.11724675479814388,0.1728951539848011,0.15926202206807288,0.12780792795482718,0.10063599551250023,0.1307265210303857,0.22221299900948355,0.12992039810358966,0.15539704750107722,0.2041864197831468,0.17152033606822634,0.2621194240388269,0.17706668444041487,0.1478337280861109,0.16124091806707497,0.201954533136296,0.21351010390259645,0.11039883727877414,0.13052782935018917,0.17801474134311432,0.2399884991563269,0.11343237816210558,0.18338737184994994,0.18708016378669823,0.14242581278179875,0.14781405017825913,0.1941203832592225,0.20070236830013533,0.20879671455654014,0.18187757246587735,0.14719011812639457,0.17737031619833557,0.29970856682450475,0.16494300759627184,0.20278104031251842,0.2315953226035772,0.20138088348546868],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x6","yaxis":"y6"},{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[7,11,5,4,11,11,7,8,12,12,11,11,11,9,11,12,12,12,11,12,11,11,10,10,10,10,11,11,10,11,11,10,10,11,12,12,11,11,10,12,11,10,12,9],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x7","yaxis":"y7"},{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[37,95,82,17,55,91,49,39,67,70,98,87,87,30,100,94,81,83,91,83,94,93,90,79,84,85,100,96,91,93,93,78,78,88,89,89,86,80,75,100,88,97,83,92],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x8","yaxis":"y8"},{"marker":{"color":[0,1,2,3,4,14,15,16,20,21,24,26,28,29,31,32,34,36,38,41,43,45,47,48,49,51,52,54,55,57,58,61,62,63,64,66,71,75,76,77,82,83,84,89],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[153,511,318,317,325,298,342,296,234,244,211,209,282,285,184,269,390,409,378,392,465,447,421,429,498,479,410,494,429,456,444,489,485,440,467,466,465,441,399,476,469,495,330,360],"y":[0.7783445001523759,0.8159816595125902,0.8016733595556809,0.8086135808988402,0.8247295082142836,0.826735771607461,0.8227137364518508,0.820651521497239,0.8230986918405414,0.8241371417818233,0.8243654070279278,0.8242934975067252,0.8262493948064044,0.8237007067281517,0.8231993482714302,0.8267221064303053,0.8255147728873775,0.8267763876916998,0.8242463041059115,0.8275554716812399,0.8275776211351167,0.8272159599684978,0.8284304690441823,0.8262199642221877,0.8269873767525293,0.8249476734825311,0.8280278333973453,0.8226595955615236,0.8262407022289031,0.8272254188485121,0.8264182885661762,0.8270353552264916,0.8279765537460508,0.8274049370319136,0.8274280947874559,0.8269845999561203,0.8269786434467559,0.8265449605358397,0.8259088076220754,0.8205394180842592,0.8255358395908425,0.8250656744685695,0.8256535536154599,0.8248061679515574],"type":"scatter","xaxis":"x9","yaxis":"y9"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,0.09135802469135802],"title":{"text":"bagging_fraction"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Objective Value"}},"xaxis2":{"anchor":"y2","domain":[0.11358024691358025,0.20493827160493827],"title":{"text":"bagging_freq"}},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis3":{"anchor":"y3","domain":[0.2271604938271605,0.31851851851851853],"title":{"text":"feature_fraction"}},"yaxis3":{"anchor":"x3","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis4":{"anchor":"y4","domain":[0.34074074074074073,0.43209876543209874],"title":{"text":"lambda_l1"}},"yaxis4":{"anchor":"x4","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis5":{"anchor":"y5","domain":[0.454320987654321,0.5456790123456791],"title":{"text":"lambda_l2"}},"yaxis5":{"anchor":"x5","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis6":{"anchor":"y6","domain":[0.5679012345679012,0.6592592592592592],"title":{"text":"learning_rate"},"type":"log"},"yaxis6":{"anchor":"x6","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis7":{"anchor":"y7","domain":[0.6814814814814815,0.7728395061728395],"title":{"text":"max_depth"}},"yaxis7":{"anchor":"x7","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis8":{"anchor":"y8","domain":[0.7950617283950617,0.8864197530864197],"title":{"text":"min_child_samples"}},"yaxis8":{"anchor":"x8","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis9":{"anchor":"y9","domain":[0.908641975308642,1.0],"title":{"text":"num_leaves"}},"yaxis9":{"anchor":"x9","domain":[0.0,1.0],"matches":"y","showticklabels":false},"title":{"text":"Slice Plot"},"width":2700},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('a28da890-b586-49c3-bbd1-f8702d84c500');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="stage-2-1" class="level4">
<h4 class="anchored" data-anchor-id="stage-2-1">Stage 2</h4>
<div id="10ac9aed" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>Second, Narrower Tuning Trial for LightGBM models</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> lgb_objective_stage2(trial):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"device"</span>: <span class="st">"gpu"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"gpu_platform_id"</span>: <span class="dv">1</span>,   <span class="co"># My GPU is on platform 1</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"gpu_device_id"</span>: <span class="dv">0</span>, </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"objective"</span>: <span class="st">"binary"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"metric"</span>: <span class="st">"auc"</span>,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"boosting_type"</span>: <span class="st">"gbdt"</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"verbosity"</span>: <span class="op">-</span><span class="dv">1</span>,</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"tree_learner"</span>: <span class="st">"serial"</span>,</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Untouched as its related to the boosting rounds</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"learning_rate"</span>: trial.suggest_float(<span class="st">"learning_rate"</span>, <span class="fl">1e-3</span>, <span class="fl">0.3</span>, log<span class="op">=</span><span class="va">True</span>), </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Hyperparameters to tune further</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"max_depth"</span>: new_range(trial, lgb_study1, <span class="st">"max_depth"</span>),</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"num_leaves"</span>: new_range(trial, lgb_study1, <span class="st">"num_leaves"</span>),</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"feature_fraction"</span>: new_range(trial, lgb_study1, <span class="st">"feature_fraction"</span>, upper_bound<span class="op">=</span><span class="fl">1.0</span>),</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">"bagging_fraction"</span>: new_range(trial, lgb_study1, <span class="st">"bagging_fraction"</span>, upper_bound<span class="op">=</span><span class="fl">1.0</span>),</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"bagging_freq"</span>: new_range(trial, lgb_study1, <span class="st">"bagging_freq"</span>),</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"lambda_l1"</span>: new_range(trial, lgb_study1, <span class="st">"lambda_l1"</span>),</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>        <span class="st">"lambda_l2"</span>: new_range(trial, lgb_study1, <span class="st">"lambda_l2"</span>),</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>        <span class="st">"min_child_samples"</span>: new_range(trial, lgb_study1, <span class="st">"min_child_samples"</span>),</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'train/lightgbm/stage2/data'</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    nested_folder <span class="op">=</span> <span class="st">'train/lightgbm/stage2/data/training'</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># train (70) / valid (15) / test (15) split from 20% subsample</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    subsample <span class="op">=</span> file_subsample(<span class="st">'higgs_data/train.parquet'</span>, split_folder, sample_fraction<span class="op">=</span><span class="fl">0.2</span>)</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    train_valid_pool, holdout_set <span class="op">=</span> file_train_test_split(subsample, split_folder, test_size<span class="op">=</span><span class="fl">0.15</span>)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    <span class="co"># .15 / .85 = 0.1739</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set <span class="op">=</span> file_train_test_split(train_valid_pool, nested_folder, test_size<span class="op">=</span><span class="fl">0.1739</span>)</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> lgb.Dataset(train_set, params<span class="op">=</span>{<span class="st">"label_column"</span>: <span class="st">"name:target"</span>, <span class="st">"header"</span>: <span class="va">True</span>})</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> lgb.Dataset(valid_set, params<span class="op">=</span>{<span class="st">"label_column"</span>: <span class="st">"name:target"</span>, <span class="st">"header"</span>: <span class="va">True</span>}, reference<span class="op">=</span>train_set)</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Absolutely no logging</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>            model <span class="op">=</span> lgb.train(</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>                params,</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>                valid_sets<span class="op">=</span>[dvalid],</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>                num_boost_round<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>                callbacks<span class="op">=</span>[</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>                    lgb.early_stopping(<span class="dv">50</span>),</span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>                    LightGBMPruningCallback(trial, metric<span class="op">=</span><span class="st">"auc"</span>, valid_name<span class="op">=</span><span class="st">"valid_0"</span>)</span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>                ],</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Calculate "test" AUC</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    dtest <span class="op">=</span> pd.read_csv(holdout_set, header<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    X_test <span class="op">=</span> dtest.drop(columns<span class="op">=</span>[<span class="st">"target"</span>])</span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>    y_test <span class="op">=</span> dtest[<span class="st">"target"</span>]</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>    preds <span class="op">=</span> model.predict(X_test, num_iteration<span class="op">=</span>model.best_iteration)</span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> roc_auc_score(y_test, preds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="3760caec" class="cell" data-execution_count="20">
<div class="cell-output cell-output-stdout">
<pre><code>Best AUC: 0.838301
Best Parameters:
  learning_rate: 0.10107262517134558
  max_depth: 11
  num_leaves: 473
  feature_fraction: 0.9334099079552785
  bagging_fraction: 0.8260935057083515
  bagging_freq: 4
  lambda_l1: 0.5998970355629932
  lambda_l2: 0.8345038642281594
  min_child_samples: 107

Trials Completed:   17
Trials Pruned:  33
Total Trials:   50</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="f2a48e04-570f-490c-963b-86589be56a72" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f2a48e04-570f-490c-963b-86589be56a72")) {                    Plotly.newPlot(                        "f2a48e04-570f-490c-963b-86589be56a72",                        [{"mode":"markers","name":"Objective Value","x":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter"},{"mode":"lines","name":"Best Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"y":[0.8330251551894376,0.8330251551894376,0.8330251551894376,0.8330251551894376,0.8330251551894376,0.8330251551894376,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8375533520265277,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521,0.8383009384271521],"type":"scatter"},{"marker":{"color":"#cccccc"},"mode":"markers","name":"Infeasible Trial","showlegend":false,"x":[],"y":[],"type":"scatter"}],                        {"title":{"text":"Optimization History Plot"},"xaxis":{"title":{"text":"Trial"}},"yaxis":{"title":{"text":"Objective Value"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f2a48e04-570f-490c-963b-86589be56a72');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="01064122-0d5f-408e-84a2-6986243c2493" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("01064122-0d5f-408e-84a2-6986243c2493")) {                    Plotly.newPlot(                        "01064122-0d5f-408e-84a2-6986243c2493",                        [{"cliponaxis":false,"hovertemplate":["bagging_freq (IntDistribution): 0.01382043686690774\u003cextra\u003e\u003c\u002fextra\u003e","min_child_samples (IntDistribution): 0.02391121856785472\u003cextra\u003e\u003c\u002fextra\u003e","feature_fraction (FloatDistribution): 0.026842307857961864\u003cextra\u003e\u003c\u002fextra\u003e","num_leaves (IntDistribution): 0.03279698834374002\u003cextra\u003e\u003c\u002fextra\u003e","max_depth (IntDistribution): 0.037248664434789205\u003cextra\u003e\u003c\u002fextra\u003e","lambda_l1 (FloatDistribution): 0.038404645807065735\u003cextra\u003e\u003c\u002fextra\u003e","bagging_fraction (FloatDistribution): 0.08767443582650127\u003cextra\u003e\u003c\u002fextra\u003e","lambda_l2 (FloatDistribution): 0.09076619619566863\u003cextra\u003e\u003c\u002fextra\u003e","learning_rate (FloatDistribution): 0.6485351060995108\u003cextra\u003e\u003c\u002fextra\u003e"],"name":"Objective Value","orientation":"h","text":["0.01","0.02","0.03","0.03","0.04","0.04","0.09","0.09","0.65"],"textposition":"outside","x":[0.01382043686690774,0.02391121856785472,0.026842307857961864,0.03279698834374002,0.037248664434789205,0.038404645807065735,0.08767443582650127,0.09076619619566863,0.6485351060995108],"y":["bagging_freq","min_child_samples","feature_fraction","num_leaves","max_depth","lambda_l1","bagging_fraction","lambda_l2","learning_rate"],"type":"bar"}],                        {"title":{"text":"Hyperparameter Importances"},"xaxis":{"title":{"text":"Hyperparameter Importance"}},"yaxis":{"title":{"text":"Hyperparameter"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('01064122-0d5f-408e-84a2-6986243c2493');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="dd899a6b-1cd7-4c06-b18c-807a4c68bcfc" class="plotly-graph-div" style="height:525px; width:2700px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("dd899a6b-1cd7-4c06-b18c-807a4c68bcfc")) {                    Plotly.newPlot(                        "dd899a6b-1cd7-4c06-b18c-807a4c68bcfc",                        [{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":true},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.874010789093197,0.8433700914391836,0.8267481502115981,0.9996834092279148,0.8440157247648108,0.8623634175137991,0.9388703016332203,0.9206522765328705,0.8260935057083515,0.8312764182624656,0.7966508979350391,0.8007311282283697,0.7855496785587628,0.8764974660303847,0.791300216387249,0.8018361140309247,0.8335618309399825],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x","yaxis":"y"},{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[4,7,5,8,7,6,5,5,4,4,4,4,4,8,4,4,4],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.8271325669943849,0.8873184558075256,0.8267041297511936,0.9949940393743619,0.8739179855550232,0.8723381296626053,0.8718078717911253,0.8645115394661524,0.9334099079552785,0.9053429345757813,0.9033466561648288,0.9167607975663289,0.9281680059907091,0.9690176653734338,0.9097912165518992,0.8952301641429855,0.9134941604484461],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x3","yaxis":"y3"},{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.5885190188696876,0.7023843967348625,0.6060376618767012,0.72041281386484,0.6610222634752705,0.6374390400487419,0.6216020047632173,0.6138398370914859,0.5998970355629932,0.5657779523011264,0.571186613316373,0.5382492511250985,0.584444564481139,0.6469471076304705,0.5746515345702943,0.5815112694161374,0.6283167873335399],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x4","yaxis":"y4"},{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.8768806608016737,0.8530168168541776,0.766425160065284,0.9074928836957382,0.786008366312925,0.8038695073961827,0.8325719674400119,0.8206500781327628,0.8345038642281594,0.8321540244964757,0.821213008206482,0.8507979207437358,0.6562380759448769,0.7920284856778181,0.8315029528847553,0.8344098378886213,0.8149341533507852],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x5","yaxis":"y5"},{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.020905161085571868,0.028218447545019912,0.12100953009412319,0.22620406357187978,0.1230931438648854,0.28416172052079547,0.1144833642023879,0.130942729238879,0.10107262517134558,0.09562725626656902,0.09136008614836266,0.15761090642291847,0.24794809092557202,0.1927651137015468,0.0995950911082647,0.12797727325508154,0.09709011670845386],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x6","yaxis":"y6"},{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[9,10,10,10,10,12,11,11,11,11,11,12,10,12,11,11,11],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x7","yaxis":"y7"},{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[104,94,106,88,104,93,91,91,107,103,102,105,97,95,102,103,98],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x8","yaxis":"y8"},{"marker":{"color":[0,6,9,10,11,14,16,21,28,31,32,34,37,40,41,42,44],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[410,481,472,505,465,471,416,416,473,398,478,460,373,475,477,457,468],"y":[0.8330251551894376,0.8375533520265277,0.8365278913413552,0.8320299258654094,0.8361911551528673,0.8288794160271821,0.8364401203223966,0.8357749572025343,0.8383009384271521,0.8366301788201623,0.8365175591795331,0.8344617503976162,0.8296044603195681,0.8332504174159798,0.8368358964568464,0.8354757224451739,0.8375140097075171],"type":"scatter","xaxis":"x9","yaxis":"y9"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,0.09135802469135802],"title":{"text":"bagging_fraction"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Objective Value"}},"xaxis2":{"anchor":"y2","domain":[0.11358024691358025,0.20493827160493827],"title":{"text":"bagging_freq"}},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis3":{"anchor":"y3","domain":[0.2271604938271605,0.31851851851851853],"title":{"text":"feature_fraction"}},"yaxis3":{"anchor":"x3","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis4":{"anchor":"y4","domain":[0.34074074074074073,0.43209876543209874],"title":{"text":"lambda_l1"}},"yaxis4":{"anchor":"x4","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis5":{"anchor":"y5","domain":[0.454320987654321,0.5456790123456791],"title":{"text":"lambda_l2"}},"yaxis5":{"anchor":"x5","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis6":{"anchor":"y6","domain":[0.5679012345679012,0.6592592592592592],"title":{"text":"learning_rate"},"type":"log"},"yaxis6":{"anchor":"x6","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis7":{"anchor":"y7","domain":[0.6814814814814815,0.7728395061728395],"title":{"text":"max_depth"}},"yaxis7":{"anchor":"x7","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis8":{"anchor":"y8","domain":[0.7950617283950617,0.8864197530864197],"title":{"text":"min_child_samples"}},"yaxis8":{"anchor":"x8","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis9":{"anchor":"y9","domain":[0.908641975308642,1.0],"title":{"text":"num_leaves"}},"yaxis9":{"anchor":"x9","domain":[0.0,1.0],"matches":"y","showticklabels":false},"title":{"text":"Slice Plot"},"width":2700},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('dd899a6b-1cd7-4c06-b18c-807a4c68bcfc');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="stage-3-1" class="level4">
<h4 class="anchored" data-anchor-id="stage-3-1">Stage 3</h4>
<div id="085be3ad" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>Final fitting for LightGBM model</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> lgb_objective_stage3(best_params):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"device"</span>: <span class="st">"gpu"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"gpu_platform_id"</span>: <span class="dv">1</span>,   <span class="co"># My GPU is on platform 1</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"gpu_device_id"</span>: <span class="dv">0</span>, </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"objective"</span>: <span class="st">"binary"</span>,</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"metric"</span>: <span class="st">"auc"</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"boosting_type"</span>: <span class="st">"gbdt"</span>,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"tree_learner"</span>: <span class="st">"serial"</span>,</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'train/lightgbm/stage3/data'</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># train (80) / valid (20)  split from full training set</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set <span class="op">=</span> file_train_test_split(<span class="st">'higgs_data/train.parquet'</span>, split_folder, test_size<span class="op">=</span><span class="fl">0.20</span>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> lgb.Dataset(train_set, params<span class="op">=</span>{<span class="st">"label_column"</span>: <span class="st">"name:target"</span>, <span class="st">"header"</span>: <span class="va">True</span>})</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> lgb.Dataset(valid_set, params<span class="op">=</span>{<span class="st">"label_column"</span>: <span class="st">"name:target"</span>, <span class="st">"header"</span>: <span class="va">True</span>}, reference<span class="op">=</span>train_set)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>            baseline_model <span class="op">=</span> lgb.train(</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>                params,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>                valid_sets<span class="op">=</span>[dvalid],</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>                num_boost_round<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>                callbacks<span class="op">=</span>[</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>                    lgb.early_stopping(<span class="dv">50</span>),</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>                ],</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>    baseline_model.save_model(<span class="st">"models/baseline_lgb.txt"</span>, num_iteration<span class="op">=</span>baseline_model.best_iteration)</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    params.update(best_params)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>            tuned_model <span class="op">=</span> lgb.train(</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>                params,</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>                valid_sets<span class="op">=</span>[dvalid],</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>                num_boost_round<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>                callbacks<span class="op">=</span>[</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>                    lgb.early_stopping(<span class="dv">50</span>),</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>                ],</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>    tuned_model.save_model(<span class="st">"models/tuned_lgb.txt"</span>, num_iteration<span class="op">=</span>tuned_model.best_iteration)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<section id="stage-1-2" class="level4">
<h4 class="anchored" data-anchor-id="stage-1-2">Stage 1</h4>
<div id="b7e3d742" class="cell" data-execution_count="23">
<details class="code-fold">
<summary>Initial Tuning Trial for CatBoost models</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cat_objective_stage1(trial):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"task_type"</span>: <span class="st">"GPU"</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"metric_period"</span>: <span class="dv">5</span>,</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"loss_function"</span>: <span class="st">"Logloss"</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eval_metric"</span>: <span class="st">"AUC"</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"early_stopping_rounds"</span>: <span class="dv">15</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"iterations"</span>: <span class="dv">100</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"verbose"</span>: <span class="dv">0</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"use_best_model"</span>: <span class="va">True</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"depth"</span>: trial.suggest_int(<span class="st">"depth"</span>, <span class="dv">3</span>, <span class="dv">12</span>),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"learning_rate"</span>: trial.suggest_float(<span class="st">"learning_rate"</span>, <span class="fl">1e-3</span>, <span class="fl">0.3</span>, log<span class="op">=</span><span class="va">True</span>),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"l2_leaf_reg"</span>: trial.suggest_float(<span class="st">"l2_leaf_reg"</span>, <span class="dv">0</span>, <span class="fl">5.0</span>),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"bagging_temperature"</span>: trial.suggest_float(<span class="st">"bagging_temperature"</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>),</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"random_strength"</span>: trial.suggest_float(<span class="st">"random_strength"</span>, <span class="fl">0.0</span>, <span class="fl">1.0</span>),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"border_count"</span>: trial.suggest_int(<span class="st">"border_count"</span>, <span class="dv">32</span>, <span class="dv">255</span>),</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'training/catboost/stage1/data'</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    nested_folder <span class="op">=</span> <span class="st">'training/catboost/stage1/data/training'</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>    cd_file <span class="op">=</span> <span class="st">'./higgs_data/train.cd'</span></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>    subsample <span class="op">=</span> file_subsample(<span class="st">'higgs_data/train.parquet'</span>, split_folder, sample_fraction<span class="op">=</span><span class="fl">0.1</span>)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    train_valid_pool, holdout_set <span class="op">=</span> file_train_test_split(subsample, split_folder, test_size<span class="op">=</span><span class="fl">0.15</span>)</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set <span class="op">=</span> file_train_test_split(train_valid_pool, nested_folder, test_size<span class="op">=</span><span class="fl">0.1739</span>)</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> cat.Pool(train_set, column_description<span class="op">=</span>cd_file, has_header<span class="op">=</span><span class="va">True</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> cat.Pool(valid_set, column_description<span class="op">=</span>cd_file, has_header<span class="op">=</span><span class="va">True</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    dtest <span class="op">=</span> cat.Pool(holdout_set, column_description<span class="op">=</span>cd_file, has_header<span class="op">=</span><span class="va">True</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>            model <span class="op">=</span> cat.CatBoostClassifier(<span class="op">**</span>params)</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>            model.fit(</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>                eval_set<span class="op">=</span>dvalid,</span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>                column_description<span class="op">=</span>cd_file,</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Evaluate on holdout set</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>    preds <span class="op">=</span> model.predict_proba(dtest)[:, <span class="dv">1</span>]</span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>    y_test <span class="op">=</span> pd.read_csv(holdout_set, usecols<span class="op">=</span>[<span class="st">"target"</span>])</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> roc_auc_score(y_test, preds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="9b58ecae" class="cell" data-execution_count="24">
<div class="cell-output cell-output-stdout">
<pre><code>Best AUC: 0.826857
Best Parameters:
  depth: 11
  learning_rate: 0.2363267218189741
  l2_leaf_reg: 4.517157908626507
  bagging_temperature: 0.34111804938212487
  random_strength: 0.09813998886870393
  border_count: 245

Trials Completed:   100
Trials Pruned:  0
Total Trials:   100</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="50a2b36b-ff24-433c-803f-bdb919ca3828" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("50a2b36b-ff24-433c-803f-bdb919ca3828")) {                    Plotly.newPlot(                        "50a2b36b-ff24-433c-803f-bdb919ca3828",                        [{"mode":"markers","name":"Objective Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"y":[0.8084322633219119,0.747370524228902,0.7675731925827212,0.8180779731774316,0.7882797771053066,0.7743421095344117,0.7953860283471337,0.7767880491131509,0.7660567477401038,0.7626838589260161,0.7408234331595053,0.7952024192744941,0.7747654069343515,0.7246621361566454,0.7891491873549078,0.7576511576047431,0.801045004351051,0.8054953870647988,0.7672096377301456,0.8223436250485096,0.8218470797288538,0.8165341471491605,0.822964683572313,0.8254659676838527,0.8177698930126039,0.8265051382854988,0.8233230608929871,0.8249593420650827,0.8112708533772235,0.8144145349195169,0.8131998453005521,0.8255120012888898,0.8231219864254677,0.8255992674227561,0.8221081944700461,0.8222829476349696,0.8178403078335722,0.8255022202910731,0.8226975376996895,0.7815807468769693,0.7959229570209561,0.825754329333969,0.8208917197746834,0.8193986033347489,0.8215490114083068,0.8169193269190028,0.7717546848730725,0.7801559024675426,0.8195390095725851,0.8209524304915428,0.8254717227048765,0.825840039014495,0.8223368411704817,0.8217489075602662,0.8176834609377119,0.8204999064341502,0.7620198224204876,0.8251185476649312,0.8051770784070971,0.8217240013574933,0.7905676751006369,0.8268570296998133,0.8231145205523627,0.8225239373264377,0.8233885232357078,0.821698652086156,0.8244133082133622,0.8239827664912381,0.8163533555791249,0.8156745777316479,0.8244831090204954,0.8223644598111783,0.8257407639952732,0.8240896021594927,0.8013566149982589,0.8230184035761903,0.8221468500267781,0.8246229510287483,0.8223557837053135,0.8224284084142568,0.8230386013759237,0.8246876993493444,0.8258662083672557,0.8229563141203704,0.8227571504756128,0.7696101216052482,0.8233633821062826,0.8232620735943144,0.8167475100309225,0.8227339959563198,0.8249837698274054,0.8243296518687854,0.8238602939305375,0.821333650821279,0.8218584759542328,0.8233044427084444,0.7915036326507059,0.8250126227559356,0.8247340756901622,0.8208453174967193],"type":"scatter"},{"mode":"lines","name":"Best Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"y":[0.8084322633219119,0.8084322633219119,0.8084322633219119,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8180779731774316,0.8223436250485096,0.8223436250485096,0.8223436250485096,0.822964683572313,0.8254659676838527,0.8254659676838527,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8265051382854988,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133,0.8268570296998133],"type":"scatter"},{"marker":{"color":"#cccccc"},"mode":"markers","name":"Infeasible Trial","showlegend":false,"x":[],"y":[],"type":"scatter"}],                        {"title":{"text":"Optimization History Plot"},"xaxis":{"title":{"text":"Trial"}},"yaxis":{"title":{"text":"Objective Value"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('50a2b36b-ff24-433c-803f-bdb919ca3828');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="b2ca5a43-0bc3-40a3-8cdf-67873be00383" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b2ca5a43-0bc3-40a3-8cdf-67873be00383")) {                    Plotly.newPlot(                        "b2ca5a43-0bc3-40a3-8cdf-67873be00383",                        [{"cliponaxis":false,"hovertemplate":["random_strength (FloatDistribution): 0.003739826553687082\u003cextra\u003e\u003c\u002fextra\u003e","l2_leaf_reg (FloatDistribution): 0.005853720632667655\u003cextra\u003e\u003c\u002fextra\u003e","bagging_temperature (FloatDistribution): 0.0073073174330601865\u003cextra\u003e\u003c\u002fextra\u003e","border_count (IntDistribution): 0.05041857862188833\u003cextra\u003e\u003c\u002fextra\u003e","depth (IntDistribution): 0.1940804137461066\u003cextra\u003e\u003c\u002fextra\u003e","learning_rate (FloatDistribution): 0.7386001430125901\u003cextra\u003e\u003c\u002fextra\u003e"],"name":"Objective Value","orientation":"h","text":["\u003c0.01","\u003c0.01","\u003c0.01","0.05","0.19","0.74"],"textposition":"outside","x":[0.003739826553687082,0.005853720632667655,0.0073073174330601865,0.05041857862188833,0.1940804137461066,0.7386001430125901],"y":["random_strength","l2_leaf_reg","bagging_temperature","border_count","depth","learning_rate"],"type":"bar"}],                        {"title":{"text":"Hyperparameter Importances"},"xaxis":{"title":{"text":"Hyperparameter Importance"}},"yaxis":{"title":{"text":"Hyperparameter"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('b2ca5a43-0bc3-40a3-8cdf-67873be00383');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="6304b627-83b2-40f8-a921-6ede91cd25a3" class="plotly-graph-div" style="height:525px; width:1800px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("6304b627-83b2-40f8-a921-6ede91cd25a3")) {                    Plotly.newPlot(                        "6304b627-83b2-40f8-a921-6ede91cd25a3",                        [{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":true},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.9911613532126852,0.9249718948953359,0.28910654812621583,0.28614203058941345,0.34498525956618475,0.513677001066899,0.9935483943008542,0.11582524552482332,0.8388524546209503,0.44593839036754124,0.49393980729508924,0.6405729963319797,0.26023600941182057,0.18895378986990363,0.32852730847890754,0.8991201808714766,0.9274443279889276,0.30497684319374474,0.3214402666162829,0.07807635928009526,0.019007888498822872,0.016139401064651865,0.012956137652022814,0.0016845973541332881,0.11866139212665029,0.11055955192820568,0.17332489932147213,0.1913036175973073,0.2032825842660757,0.08236648773675502,0.7138558328935554,0.1653064674779713,0.4005889390364925,0.21679743071554594,0.12215954510881213,0.06945274462942483,0.23811583391784813,0.14247591559847864,0.38329350688895714,0.15648100279730945,0.2505054683778241,0.0614464509784476,0.06666361822824354,0.13563540135236413,0.21395115034121462,0.5599901852919507,0.2594781427214933,0.0693068993471155,0.16730854135769727,0.3730343986436213,0.28384932566195387,0.28148877438808945,0.11129842547419197,0.21385147328790505,0.4417512642701936,0.04556983303332092,0.14863282999965055,0.09453734687282209,0.2823301529602701,0.04401506019234989,0.2251137166827717,0.34111804938212487,0.3237633545099764,0.17721068374674653,0.30115886064029596,0.44124478816395596,0.14132183732979767,0.350895711689225,0.5081977464207589,0.03671417047849899,0.1015760090848537,0.28183869024906616,0.24326100720644855,0.199025249903453,0.25057674493868076,0.3518853912871667,0.17357017381130752,0.23533331004496882,0.12525836918543284,0.5513983717572306,0.415420554148338,0.2957124024650276,0.2678477461272804,0.7756961216427202,0.2024218646387732,0.15775198418104203,0.2715913732923861,0.2358831981157114,0.18574954012679418,0.3200837651363924,0.1045057564091425,0.26219986300093373,0.3320678339580538,0.3750936952100745,0.22456195276438884,0.08225686239245206,0.3009901860565793,0.13311879400140536,0.06002480002299111,0.46702911603559866],"y":[0.8084322633219119,0.747370524228902,0.7675731925827212,0.8180779731774316,0.7882797771053066,0.7743421095344117,0.7953860283471337,0.7767880491131509,0.7660567477401038,0.7626838589260161,0.7408234331595053,0.7952024192744941,0.7747654069343515,0.7246621361566454,0.7891491873549078,0.7576511576047431,0.801045004351051,0.8054953870647988,0.7672096377301456,0.8223436250485096,0.8218470797288538,0.8165341471491605,0.822964683572313,0.8254659676838527,0.8177698930126039,0.8265051382854988,0.8233230608929871,0.8249593420650827,0.8112708533772235,0.8144145349195169,0.8131998453005521,0.8255120012888898,0.8231219864254677,0.8255992674227561,0.8221081944700461,0.8222829476349696,0.8178403078335722,0.8255022202910731,0.8226975376996895,0.7815807468769693,0.7959229570209561,0.825754329333969,0.8208917197746834,0.8193986033347489,0.8215490114083068,0.8169193269190028,0.7717546848730725,0.7801559024675426,0.8195390095725851,0.8209524304915428,0.8254717227048765,0.825840039014495,0.8223368411704817,0.8217489075602662,0.8176834609377119,0.8204999064341502,0.7620198224204876,0.8251185476649312,0.8051770784070971,0.8217240013574933,0.7905676751006369,0.8268570296998133,0.8231145205523627,0.8225239373264377,0.8233885232357078,0.821698652086156,0.8244133082133622,0.8239827664912381,0.8163533555791249,0.8156745777316479,0.8244831090204954,0.8223644598111783,0.8257407639952732,0.8240896021594927,0.8013566149982589,0.8230184035761903,0.8221468500267781,0.8246229510287483,0.8223557837053135,0.8224284084142568,0.8230386013759237,0.8246876993493444,0.8258662083672557,0.8229563141203704,0.8227571504756128,0.7696101216052482,0.8233633821062826,0.8232620735943144,0.8167475100309225,0.8227339959563198,0.8249837698274054,0.8243296518687854,0.8238602939305375,0.821333650821279,0.8218584759542328,0.8233044427084444,0.7915036326507059,0.8250126227559356,0.8247340756901622,0.8208453174967193],"type":"scatter","xaxis":"x","yaxis":"y"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[110,114,38,190,131,249,149,107,201,248,88,77,52,75,49,152,111,174,107,195,211,210,211,226,232,226,234,230,178,228,224,239,253,240,176,242,219,239,255,240,165,220,204,186,241,219,245,196,236,218,248,254,135,254,237,206,218,244,232,225,187,245,248,255,237,213,32,246,225,233,156,248,248,239,100,229,214,251,200,222,242,249,230,230,236,118,242,227,221,208,255,246,233,239,250,216,241,245,235,62],"y":[0.8084322633219119,0.747370524228902,0.7675731925827212,0.8180779731774316,0.7882797771053066,0.7743421095344117,0.7953860283471337,0.7767880491131509,0.7660567477401038,0.7626838589260161,0.7408234331595053,0.7952024192744941,0.7747654069343515,0.7246621361566454,0.7891491873549078,0.7576511576047431,0.801045004351051,0.8054953870647988,0.7672096377301456,0.8223436250485096,0.8218470797288538,0.8165341471491605,0.822964683572313,0.8254659676838527,0.8177698930126039,0.8265051382854988,0.8233230608929871,0.8249593420650827,0.8112708533772235,0.8144145349195169,0.8131998453005521,0.8255120012888898,0.8231219864254677,0.8255992674227561,0.8221081944700461,0.8222829476349696,0.8178403078335722,0.8255022202910731,0.8226975376996895,0.7815807468769693,0.7959229570209561,0.825754329333969,0.8208917197746834,0.8193986033347489,0.8215490114083068,0.8169193269190028,0.7717546848730725,0.7801559024675426,0.8195390095725851,0.8209524304915428,0.8254717227048765,0.825840039014495,0.8223368411704817,0.8217489075602662,0.8176834609377119,0.8204999064341502,0.7620198224204876,0.8251185476649312,0.8051770784070971,0.8217240013574933,0.7905676751006369,0.8268570296998133,0.8231145205523627,0.8225239373264377,0.8233885232357078,0.821698652086156,0.8244133082133622,0.8239827664912381,0.8163533555791249,0.8156745777316479,0.8244831090204954,0.8223644598111783,0.8257407639952732,0.8240896021594927,0.8013566149982589,0.8230184035761903,0.8221468500267781,0.8246229510287483,0.8223557837053135,0.8224284084142568,0.8230386013759237,0.8246876993493444,0.8258662083672557,0.8229563141203704,0.8227571504756128,0.7696101216052482,0.8233633821062826,0.8232620735943144,0.8167475100309225,0.8227339959563198,0.8249837698274054,0.8243296518687854,0.8238602939305375,0.821333650821279,0.8218584759542328,0.8233044427084444,0.7915036326507059,0.8250126227559356,0.8247340756901622,0.8208453174967193],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[9,8,9,9,9,4,8,8,11,8,9,6,6,5,3,3,9,6,4,10,12,12,11,11,11,11,11,10,10,10,12,11,10,11,12,11,11,12,12,12,7,11,9,10,11,12,11,10,9,12,11,11,11,12,10,9,11,12,7,10,11,11,11,12,11,10,12,11,8,10,12,11,11,11,5,10,12,11,11,12,10,11,11,11,12,10,11,12,10,11,11,11,11,12,11,10,9,11,12,10],"y":[0.8084322633219119,0.747370524228902,0.7675731925827212,0.8180779731774316,0.7882797771053066,0.7743421095344117,0.7953860283471337,0.7767880491131509,0.7660567477401038,0.7626838589260161,0.7408234331595053,0.7952024192744941,0.7747654069343515,0.7246621361566454,0.7891491873549078,0.7576511576047431,0.801045004351051,0.8054953870647988,0.7672096377301456,0.8223436250485096,0.8218470797288538,0.8165341471491605,0.822964683572313,0.8254659676838527,0.8177698930126039,0.8265051382854988,0.8233230608929871,0.8249593420650827,0.8112708533772235,0.8144145349195169,0.8131998453005521,0.8255120012888898,0.8231219864254677,0.8255992674227561,0.8221081944700461,0.8222829476349696,0.8178403078335722,0.8255022202910731,0.8226975376996895,0.7815807468769693,0.7959229570209561,0.825754329333969,0.8208917197746834,0.8193986033347489,0.8215490114083068,0.8169193269190028,0.7717546848730725,0.7801559024675426,0.8195390095725851,0.8209524304915428,0.8254717227048765,0.825840039014495,0.8223368411704817,0.8217489075602662,0.8176834609377119,0.8204999064341502,0.7620198224204876,0.8251185476649312,0.8051770784070971,0.8217240013574933,0.7905676751006369,0.8268570296998133,0.8231145205523627,0.8225239373264377,0.8233885232357078,0.821698652086156,0.8244133082133622,0.8239827664912381,0.8163533555791249,0.8156745777316479,0.8244831090204954,0.8223644598111783,0.8257407639952732,0.8240896021594927,0.8013566149982589,0.8230184035761903,0.8221468500267781,0.8246229510287483,0.8223557837053135,0.8224284084142568,0.8230386013759237,0.8246876993493444,0.8258662083672557,0.8229563141203704,0.8227571504756128,0.7696101216052482,0.8233633821062826,0.8232620735943144,0.8167475100309225,0.8227339959563198,0.8249837698274054,0.8243296518687854,0.8238602939305375,0.821333650821279,0.8218584759542328,0.8233044427084444,0.7915036326507059,0.8250126227559356,0.8247340756901622,0.8208453174967193],"type":"scatter","xaxis":"x3","yaxis":"y3"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[3.9866797068308086,1.5278470250901,4.993811543554688,0.4418448533601099,0.438575377620562,3.519988813155936,2.9196494756995266,4.195647652784475,1.0399994316945178,1.2790843147437458,1.0609028394443891,0.3588913141764305,2.87240541314296,2.4132706217070083,4.2753675910586955,2.621630332948177,1.8389090377356547,2.1874058569858343,2.8569201852290567,4.642649224923271,0.675404475676908,0.09250734583203868,0.6852836382515791,4.827133661805527,4.934410909225225,3.5331389047497037,3.518882395417547,3.4324484631950734,3.4983937967425867,3.7753236146088107,3.950228252360856,3.1749433982183572,4.519891094995684,3.2244593618179165,3.207497616787683,1.9954483619103,3.137975384753092,3.8830850514551227,3.9151434199196586,3.1820878054505672,4.229285408163552,3.702228609972623,3.7050470417200327,3.7087678247211318,2.636545574926168,3.2885842067196003,4.09203857308926,3.02444651521375,2.767042019032465,2.4078427992250813,4.453805356320944,4.370080717865587,3.778571283360792,4.323951753938391,3.326808072368152,4.027645269013457,3.0253018945221957,3.640096219430617,4.113093766159847,3.8886265728679845,4.6372781210202225,4.517157908626507,4.342280324898387,3.402170520111592,4.695225925686206,3.6507551553958084,4.479546769474437,4.9116834559585,3.496927423911582,4.146365101637594,3.901935710998467,4.773418304236117,4.492440178415164,4.581753878349286,4.3317693649951785,3.585458803521744,3.785019825533004,4.411036264764877,4.225079738315371,2.945174072694543,3.9785606175889088,4.4550914386396645,4.858550250457531,4.949822984053469,4.7763771222957665,3.332252060797729,1.588844727352464,3.0953982177479853,4.682575680758465,4.562546558043097,3.843158732524856,4.860507083651557,4.215836654493613,4.035211998007647,4.433534464837195,3.2284016244586793,4.700697190490156,2.7681841438662627,4.114386917803835,3.450337026793235],"y":[0.8084322633219119,0.747370524228902,0.7675731925827212,0.8180779731774316,0.7882797771053066,0.7743421095344117,0.7953860283471337,0.7767880491131509,0.7660567477401038,0.7626838589260161,0.7408234331595053,0.7952024192744941,0.7747654069343515,0.7246621361566454,0.7891491873549078,0.7576511576047431,0.801045004351051,0.8054953870647988,0.7672096377301456,0.8223436250485096,0.8218470797288538,0.8165341471491605,0.822964683572313,0.8254659676838527,0.8177698930126039,0.8265051382854988,0.8233230608929871,0.8249593420650827,0.8112708533772235,0.8144145349195169,0.8131998453005521,0.8255120012888898,0.8231219864254677,0.8255992674227561,0.8221081944700461,0.8222829476349696,0.8178403078335722,0.8255022202910731,0.8226975376996895,0.7815807468769693,0.7959229570209561,0.825754329333969,0.8208917197746834,0.8193986033347489,0.8215490114083068,0.8169193269190028,0.7717546848730725,0.7801559024675426,0.8195390095725851,0.8209524304915428,0.8254717227048765,0.825840039014495,0.8223368411704817,0.8217489075602662,0.8176834609377119,0.8204999064341502,0.7620198224204876,0.8251185476649312,0.8051770784070971,0.8217240013574933,0.7905676751006369,0.8268570296998133,0.8231145205523627,0.8225239373264377,0.8233885232357078,0.821698652086156,0.8244133082133622,0.8239827664912381,0.8163533555791249,0.8156745777316479,0.8244831090204954,0.8223644598111783,0.8257407639952732,0.8240896021594927,0.8013566149982589,0.8230184035761903,0.8221468500267781,0.8246229510287483,0.8223557837053135,0.8224284084142568,0.8230386013759237,0.8246876993493444,0.8258662083672557,0.8229563141203704,0.8227571504756128,0.7696101216052482,0.8233633821062826,0.8232620735943144,0.8167475100309225,0.8227339959563198,0.8249837698274054,0.8243296518687854,0.8238602939305375,0.821333650821279,0.8218584759542328,0.8233044427084444,0.7915036326507059,0.8250126227559356,0.8247340756901622,0.8208453174967193],"type":"scatter","xaxis":"x4","yaxis":"y4"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.09683402900580768,0.0033108632507744076,0.010261423046057325,0.1569708362289436,0.027402712484568704,0.044997509144329845,0.03901354314206928,0.01630718868964791,0.004099733572527532,0.009216645668566309,0.0010925601539936202,0.0741919864442225,0.024579706699591978,0.0023193502157586167,0.20458578523908938,0.03753379782351553,0.053344424376884435,0.13574035462873116,0.03546150149680124,0.21597527674545547,0.215208727277971,0.2872616612974191,0.15718229677526985,0.260101084600678,0.10365022547713376,0.28183948893987404,0.2939773552741262,0.2686992266227623,0.07743591437873004,0.11124882779739978,0.06701014046737978,0.2691615639666957,0.19428775230451778,0.26408929953371724,0.12167973411157047,0.1564817218921428,0.09930059134147609,0.18329602966096642,0.1688385555100251,0.01006086575289403,0.057116122702488836,0.24285354547243987,0.21967107783499898,0.14799758042683356,0.29166761004620645,0.0831834035299743,0.006545356619219678,0.015558748222742136,0.18537566693623597,0.1224677120119743,0.23742875894636922,0.2357440161881999,0.17796492718981521,0.2988078529455981,0.13725192132094752,0.2159226313304064,0.0018397109856771853,0.23225942331054092,0.09024823841219669,0.17484237764504054,0.021848147615298297,0.2363267218189741,0.24080124640935055,0.13197733730466168,0.20007826810599547,0.25765905906068254,0.15680455914656669,0.2984867925125865,0.19425939986208418,0.11085503662443769,0.24859672574729352,0.23722364875047233,0.24855343555157733,0.1749643498230822,0.14649569185030925,0.21115197519559084,0.26921139712791153,0.2054933388925716,0.161570135169144,0.13006269961225184,0.299359894481559,0.24316970517692443,0.2508294262307925,0.1880990392885971,0.25181115480934435,0.007228748183164595,0.2111278217762992,0.2681517830771483,0.11088687595052858,0.16936465754508176,0.23122886918877394,0.22142564236749593,0.2639126135245585,0.14757524196787666,0.1883184378188197,0.26731936908777415,0.029954091220286937,0.18910162786439758,0.22467177693589313,0.15685456016165336],"y":[0.8084322633219119,0.747370524228902,0.7675731925827212,0.8180779731774316,0.7882797771053066,0.7743421095344117,0.7953860283471337,0.7767880491131509,0.7660567477401038,0.7626838589260161,0.7408234331595053,0.7952024192744941,0.7747654069343515,0.7246621361566454,0.7891491873549078,0.7576511576047431,0.801045004351051,0.8054953870647988,0.7672096377301456,0.8223436250485096,0.8218470797288538,0.8165341471491605,0.822964683572313,0.8254659676838527,0.8177698930126039,0.8265051382854988,0.8233230608929871,0.8249593420650827,0.8112708533772235,0.8144145349195169,0.8131998453005521,0.8255120012888898,0.8231219864254677,0.8255992674227561,0.8221081944700461,0.8222829476349696,0.8178403078335722,0.8255022202910731,0.8226975376996895,0.7815807468769693,0.7959229570209561,0.825754329333969,0.8208917197746834,0.8193986033347489,0.8215490114083068,0.8169193269190028,0.7717546848730725,0.7801559024675426,0.8195390095725851,0.8209524304915428,0.8254717227048765,0.825840039014495,0.8223368411704817,0.8217489075602662,0.8176834609377119,0.8204999064341502,0.7620198224204876,0.8251185476649312,0.8051770784070971,0.8217240013574933,0.7905676751006369,0.8268570296998133,0.8231145205523627,0.8225239373264377,0.8233885232357078,0.821698652086156,0.8244133082133622,0.8239827664912381,0.8163533555791249,0.8156745777316479,0.8244831090204954,0.8223644598111783,0.8257407639952732,0.8240896021594927,0.8013566149982589,0.8230184035761903,0.8221468500267781,0.8246229510287483,0.8223557837053135,0.8224284084142568,0.8230386013759237,0.8246876993493444,0.8258662083672557,0.8229563141203704,0.8227571504756128,0.7696101216052482,0.8233633821062826,0.8232620735943144,0.8167475100309225,0.8227339959563198,0.8249837698274054,0.8243296518687854,0.8238602939305375,0.821333650821279,0.8218584759542328,0.8233044427084444,0.7915036326507059,0.8250126227559356,0.8247340756901622,0.8208453174967193],"type":"scatter","xaxis":"x5","yaxis":"y5"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.9862400128743669,0.8113079335646957,0.2989585340440377,0.12219194376405962,0.8218489628744408,0.8719500029518873,0.7660102731237378,0.4744196318979612,0.7275323761336536,0.6950978985577605,0.7121055855300797,0.3163118980230666,0.9272936467245282,0.5500567154304625,0.020776256389247294,0.052540541379883954,0.5863434416586988,0.8055973926740061,0.4550298454326197,0.9659594000166246,0.21337643736443831,0.14580512684501065,0.19138858455137558,0.29287419293827044,0.36181840215262084,0.21559128810835115,0.21858166251664496,0.3669356548892951,0.4053606981128575,0.28024531327271557,0.3596125156114133,0.21418663717540648,0.09087093330993665,0.2596512374856487,0.25140249715308854,0.16236992048955304,0.2938129990084509,0.09628602193265234,0.10747791484077943,0.06865452397056049,0.16659513908187135,0.24651891603708004,0.016240464605199345,0.25227789604783835,0.12451701171452892,0.23612515914944449,0.18697104818348162,0.4150549049078024,0.3364170527838489,0.5327939914027638,0.09874618820157537,0.04712285174971173,0.040161673635168094,0.004064224969641539,0.636960664411826,0.14101368761729235,0.07064191096034095,0.25715828135618535,0.1724527539567875,0.21473546933981297,0.32333849470710785,0.09813998886870393,0.12687387511367862,0.049288366940357035,0.19885202819694175,0.08552306012654276,0.15517370356304686,0.11912858027219489,0.030981563817490385,0.2880878182226594,0.22945446110454645,0.10194927573368447,0.06699664477594319,0.06788726892977812,0.00032984957144382987,0.18864058124606503,0.14548440029773263,0.047206801159964645,0.08421775986511792,0.26616719601374184,0.420189025335997,0.10440090235302638,0.17540475472967323,0.20536936713726872,0.2355014191060971,0.17776093037132762,0.3092056914155069,0.13703006750892938,0.027837490023363276,0.06646950383477958,0.1682067408167164,0.1377471408618266,0.11122878607059959,0.2737314871376826,0.06870323171453105,0.09787682477758528,0.8638823047433791,0.21564049923468598,0.15786280841477907,0.2400746886416123],"y":[0.8084322633219119,0.747370524228902,0.7675731925827212,0.8180779731774316,0.7882797771053066,0.7743421095344117,0.7953860283471337,0.7767880491131509,0.7660567477401038,0.7626838589260161,0.7408234331595053,0.7952024192744941,0.7747654069343515,0.7246621361566454,0.7891491873549078,0.7576511576047431,0.801045004351051,0.8054953870647988,0.7672096377301456,0.8223436250485096,0.8218470797288538,0.8165341471491605,0.822964683572313,0.8254659676838527,0.8177698930126039,0.8265051382854988,0.8233230608929871,0.8249593420650827,0.8112708533772235,0.8144145349195169,0.8131998453005521,0.8255120012888898,0.8231219864254677,0.8255992674227561,0.8221081944700461,0.8222829476349696,0.8178403078335722,0.8255022202910731,0.8226975376996895,0.7815807468769693,0.7959229570209561,0.825754329333969,0.8208917197746834,0.8193986033347489,0.8215490114083068,0.8169193269190028,0.7717546848730725,0.7801559024675426,0.8195390095725851,0.8209524304915428,0.8254717227048765,0.825840039014495,0.8223368411704817,0.8217489075602662,0.8176834609377119,0.8204999064341502,0.7620198224204876,0.8251185476649312,0.8051770784070971,0.8217240013574933,0.7905676751006369,0.8268570296998133,0.8231145205523627,0.8225239373264377,0.8233885232357078,0.821698652086156,0.8244133082133622,0.8239827664912381,0.8163533555791249,0.8156745777316479,0.8244831090204954,0.8223644598111783,0.8257407639952732,0.8240896021594927,0.8013566149982589,0.8230184035761903,0.8221468500267781,0.8246229510287483,0.8223557837053135,0.8224284084142568,0.8230386013759237,0.8246876993493444,0.8258662083672557,0.8229563141203704,0.8227571504756128,0.7696101216052482,0.8233633821062826,0.8232620735943144,0.8167475100309225,0.8227339959563198,0.8249837698274054,0.8243296518687854,0.8238602939305375,0.821333650821279,0.8218584759542328,0.8233044427084444,0.7915036326507059,0.8250126227559356,0.8247340756901622,0.8208453174967193],"type":"scatter","xaxis":"x6","yaxis":"y6"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,0.1388888888888889],"title":{"text":"bagging_temperature"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Objective Value"}},"xaxis2":{"anchor":"y2","domain":[0.17222222222222222,0.3111111111111111],"title":{"text":"border_count"}},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis3":{"anchor":"y3","domain":[0.34444444444444444,0.48333333333333334],"title":{"text":"depth"}},"yaxis3":{"anchor":"x3","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis4":{"anchor":"y4","domain":[0.5166666666666667,0.6555555555555557],"title":{"text":"l2_leaf_reg"}},"yaxis4":{"anchor":"x4","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis5":{"anchor":"y5","domain":[0.6888888888888889,0.8277777777777777],"title":{"text":"learning_rate"},"type":"log"},"yaxis5":{"anchor":"x5","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis6":{"anchor":"y6","domain":[0.861111111111111,1.0],"title":{"text":"random_strength"}},"yaxis6":{"anchor":"x6","domain":[0.0,1.0],"matches":"y","showticklabels":false},"title":{"text":"Slice Plot"},"width":1800},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('6304b627-83b2-40f8-a921-6ede91cd25a3');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="stage-2-2" class="level4">
<h4 class="anchored" data-anchor-id="stage-2-2">Stage 2</h4>
<div id="13197026" class="cell" data-execution_count="25">
<details class="code-fold">
<summary>Second, Narrower Tuning Trial for CatBoost models</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cat_objective_stage2(trial):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"task_type"</span>: <span class="st">"GPU"</span>,</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"metric_period"</span>: <span class="dv">20</span>,</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"loss_function"</span>: <span class="st">"Logloss"</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eval_metric"</span>: <span class="st">"AUC"</span>,</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"early_stopping_rounds"</span>: <span class="dv">50</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"iterations"</span>: <span class="dv">1000</span>,</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"verbose"</span>: <span class="dv">0</span>,</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"use_best_model"</span>: <span class="va">True</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"learning_rate"</span>: trial.suggest_float(<span class="st">"learning_rate"</span>, <span class="fl">1e-3</span>, <span class="fl">0.3</span>, log<span class="op">=</span><span class="va">True</span>),</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"depth"</span>: new_range(trial, cat_study1, <span class="st">"depth"</span>),</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"l2_leaf_reg"</span>: new_range(trial, cat_study1, <span class="st">"l2_leaf_reg"</span>),</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"bagging_temperature"</span>: new_range(trial, cat_study1, <span class="st">"bagging_temperature"</span>),</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"random_strength"</span>: new_range(trial, cat_study1, <span class="st">"random_strength"</span>),</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">"border_count"</span>: new_range(trial, cat_study1, <span class="st">"border_count"</span>),</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'training/catboost/stage2/data'</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>    nested_folder <span class="op">=</span> <span class="st">'training/catboost/stage2/data/training'</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>    cd_file <span class="op">=</span> <span class="st">'./higgs_data/train.cd'</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    subsample <span class="op">=</span> file_subsample(<span class="st">'higgs_data/train.parquet'</span>, split_folder, sample_fraction<span class="op">=</span><span class="fl">0.2</span>)</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    train_valid_pool, holdout_set <span class="op">=</span> file_train_test_split(subsample, split_folder, test_size<span class="op">=</span><span class="fl">0.15</span>)</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set <span class="op">=</span> file_train_test_split(train_valid_pool, nested_folder, test_size<span class="op">=</span><span class="fl">0.1739</span>)</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> cat.Pool(train_set, column_description<span class="op">=</span>cd_file, has_header<span class="op">=</span><span class="va">True</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> cat.Pool(valid_set, column_description<span class="op">=</span>cd_file, has_header<span class="op">=</span><span class="va">True</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>    dtest <span class="op">=</span> cat.Pool(holdout_set, column_description<span class="op">=</span>cd_file, has_header<span class="op">=</span><span class="va">True</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(os.devnull, <span class="st">'w'</span>) <span class="im">as</span> fnull:</span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> redirect_stdout(fnull), redirect_stderr(fnull):</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>            model <span class="op">=</span> cat.CatBoostClassifier(<span class="op">**</span>params)</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>            model.fit(</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>                dtrain,</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>                eval_set<span class="op">=</span>dvalid,</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>                column_description<span class="op">=</span>cd_file,</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Evaluate on holdout set</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>    preds <span class="op">=</span> model.predict_proba(dtest)[:, <span class="dv">1</span>]</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>    y_test <span class="op">=</span> pd.read_csv(holdout_set, usecols<span class="op">=</span>[<span class="st">"target"</span>])</span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> roc_auc_score(y_test, preds)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="84c8027f" class="cell" data-execution_count="26">
<div class="cell-output cell-output-stdout">
<pre><code>Best AUC: 0.840690
Best Parameters:
  learning_rate: 0.08912562727434876
  depth: 11
  l2_leaf_reg: 4.681532795732642
  bagging_temperature: 0.33858036670481045
  random_strength: 0.1010011683759113
  border_count: 286

Trials Completed:   50
Trials Pruned:  0
Total Trials:   50</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="f36b38f6-8a2d-47f9-890d-17ac128abf84" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f36b38f6-8a2d-47f9-890d-17ac128abf84")) {                    Plotly.newPlot(                        "f36b38f6-8a2d-47f9-890d-17ac128abf84",                        [{"mode":"markers","name":"Objective Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"y":[0.8297122599718415,0.8386410345684262,0.8324779829954114,0.8372598810806096,0.836174586415317,0.7818407459801119,0.8252204153285828,0.838467963787987,0.8314292354270014,0.8378097175462447,0.8273835788271564,0.8318646361754096,0.8111504543465249,0.8398521064752068,0.8382096710440634,0.8326780559165304,0.8107561904611056,0.8392605211088813,0.8396144760949305,0.8386212814645309,0.8346677810927682,0.8396097170189277,0.8401455215022037,0.8395715214275947,0.8300492517380342,0.8406898956395501,0.8272559823630469,0.8353778595899722,0.839089706547939,0.833031957842353,0.8348350012854715,0.8369536316536113,0.8360621413787083,0.8391370671406471,0.8363635212448164,0.835863902484684,0.8324729801341479,0.8354793107227451,0.8366943328384637,0.838854070115475,0.7815188353758677,0.8398490098073825,0.8359542243803457,0.839407440657922,0.8393071917381656,0.8394294188181131,0.832234984829277,0.8352478862691437,0.8380718991785753,0.8368134200863427],"type":"scatter"},{"mode":"lines","name":"Best Value","x":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"y":[0.8297122599718415,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8386410345684262,0.8398521064752068,0.8398521064752068,0.8398521064752068,0.8398521064752068,0.8398521064752068,0.8398521064752068,0.8398521064752068,0.8398521064752068,0.8398521064752068,0.8401455215022037,0.8401455215022037,0.8401455215022037,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501,0.8406898956395501],"type":"scatter"},{"marker":{"color":"#cccccc"},"mode":"markers","name":"Infeasible Trial","showlegend":false,"x":[],"y":[],"type":"scatter"}],                        {"title":{"text":"Optimization History Plot"},"xaxis":{"title":{"text":"Trial"}},"yaxis":{"title":{"text":"Objective Value"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f36b38f6-8a2d-47f9-890d-17ac128abf84');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="51c20917-3a30-43a9-a55e-507c897b4d44" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("51c20917-3a30-43a9-a55e-507c897b4d44")) {                    Plotly.newPlot(                        "51c20917-3a30-43a9-a55e-507c897b4d44",                        [{"cliponaxis":false,"hovertemplate":["random_strength (FloatDistribution): 0.0026582829025784617\u003cextra\u003e\u003c\u002fextra\u003e","l2_leaf_reg (FloatDistribution): 0.0026693848330632155\u003cextra\u003e\u003c\u002fextra\u003e","bagging_temperature (FloatDistribution): 0.0034068756573115045\u003cextra\u003e\u003c\u002fextra\u003e","depth (IntDistribution): 0.013062903956027324\u003cextra\u003e\u003c\u002fextra\u003e","border_count (IntDistribution): 0.017909641246445174\u003cextra\u003e\u003c\u002fextra\u003e","learning_rate (FloatDistribution): 0.9602929114045743\u003cextra\u003e\u003c\u002fextra\u003e"],"name":"Objective Value","orientation":"h","text":["\u003c0.01","\u003c0.01","\u003c0.01","0.01","0.02","0.96"],"textposition":"outside","x":[0.0026582829025784617,0.0026693848330632155,0.0034068756573115045,0.013062903956027324,0.017909641246445174,0.9602929114045743],"y":["random_strength","l2_leaf_reg","bagging_temperature","depth","border_count","learning_rate"],"type":"bar"}],                        {"title":{"text":"Hyperparameter Importances"},"xaxis":{"title":{"text":"Hyperparameter Importance"}},"yaxis":{"title":{"text":"Hyperparameter"}},"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('51c20917-3a30-43a9-a55e-507c897b4d44');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="cell-output cell-output-display">
<div>                            <div id="694398a8-02d4-4142-81a4-e5d477c5a982" class="plotly-graph-div" style="height:525px; width:1800px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("694398a8-02d4-4142-81a4-e5d477c5a982")) {                    Plotly.newPlot(                        "694398a8-02d4-4142-81a4-e5d477c5a982",                        [{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":true},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.32736251399491934,0.30545719805027044,0.2992153460409718,0.3691492276855441,0.2964050595518916,0.36682803457863533,0.28251401056422387,0.35859390074422304,0.2995665058379128,0.39691622228367107,0.32728806348357725,0.35048201493645303,0.3272066847673007,0.4076488561885231,0.4037063616280846,0.3843872620760522,0.27394470309315244,0.3156344284675394,0.3366649503316148,0.34033004443324333,0.38281373835922505,0.31573032842539184,0.3469256494609812,0.347100765868318,0.38425284174939045,0.33858036670481045,0.3675941774225903,0.35615529553920394,0.4072132235273961,0.33412536103172247,0.3947759831441633,0.34033190758731774,0.3169794466817749,0.33140724826710627,0.374507252062574,0.3219941243666287,0.30761555225117454,0.35833742695990617,0.34668372226704236,0.2866859555448741,0.33633004920637694,0.3086601657896228,0.3053693956322621,0.2949012010610419,0.309273762324031,0.35252805203741405,0.37613265110827726,0.324508950992972,0.362496489523721,0.34317211237764683],"y":[0.8297122599718415,0.8386410345684262,0.8324779829954114,0.8372598810806096,0.836174586415317,0.7818407459801119,0.8252204153285828,0.838467963787987,0.8314292354270014,0.8378097175462447,0.8273835788271564,0.8318646361754096,0.8111504543465249,0.8398521064752068,0.8382096710440634,0.8326780559165304,0.8107561904611056,0.8392605211088813,0.8396144760949305,0.8386212814645309,0.8346677810927682,0.8396097170189277,0.8401455215022037,0.8395715214275947,0.8300492517380342,0.8406898956395501,0.8272559823630469,0.8353778595899722,0.839089706547939,0.833031957842353,0.8348350012854715,0.8369536316536113,0.8360621413787083,0.8391370671406471,0.8363635212448164,0.835863902484684,0.8324729801341479,0.8354793107227451,0.8366943328384637,0.838854070115475,0.7815188353758677,0.8398490098073825,0.8359542243803457,0.839407440657922,0.8393071917381656,0.8394294188181131,0.832234984829277,0.8352478862691437,0.8380718991785753,0.8368134200863427],"type":"scatter","xaxis":"x","yaxis":"y"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[290,245,230,212,268,277,277,231,235,223,197,253,249,242,258,245,215,242,265,263,291,240,278,277,269,286,295,285,285,256,284,273,263,282,266,291,272,260,251,279,226,236,234,237,220,274,244,231,249,201],"y":[0.8297122599718415,0.8386410345684262,0.8324779829954114,0.8372598810806096,0.836174586415317,0.7818407459801119,0.8252204153285828,0.838467963787987,0.8314292354270014,0.8378097175462447,0.8273835788271564,0.8318646361754096,0.8111504543465249,0.8398521064752068,0.8382096710440634,0.8326780559165304,0.8107561904611056,0.8392605211088813,0.8396144760949305,0.8386212814645309,0.8346677810927682,0.8396097170189277,0.8401455215022037,0.8395715214275947,0.8300492517380342,0.8406898956395501,0.8272559823630469,0.8353778595899722,0.839089706547939,0.833031957842353,0.8348350012854715,0.8369536316536113,0.8360621413787083,0.8391370671406471,0.8363635212448164,0.835863902484684,0.8324729801341479,0.8354793107227451,0.8366943328384637,0.838854070115475,0.7815188353758677,0.8398490098073825,0.8359542243803457,0.839407440657922,0.8393071917381656,0.8394294188181131,0.832234984829277,0.8352478862691437,0.8380718991785753,0.8368134200863427],"type":"scatter","xaxis":"x2","yaxis":"y2"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[8,13,12,10,9,11,13,10,9,8,14,12,14,11,12,13,11,13,10,10,9,11,11,11,10,11,12,11,12,11,8,10,10,11,9,10,11,12,9,12,10,11,11,11,10,11,12,12,10,11],"y":[0.8297122599718415,0.8386410345684262,0.8324779829954114,0.8372598810806096,0.836174586415317,0.7818407459801119,0.8252204153285828,0.838467963787987,0.8314292354270014,0.8378097175462447,0.8273835788271564,0.8318646361754096,0.8111504543465249,0.8398521064752068,0.8382096710440634,0.8326780559165304,0.8107561904611056,0.8392605211088813,0.8396144760949305,0.8386212814645309,0.8346677810927682,0.8396097170189277,0.8401455215022037,0.8395715214275947,0.8300492517380342,0.8406898956395501,0.8272559823630469,0.8353778595899722,0.839089706547939,0.833031957842353,0.8348350012854715,0.8369536316536113,0.8360621413787083,0.8391370671406471,0.8363635212448164,0.835863902484684,0.8324729801341479,0.8354793107227451,0.8366943328384637,0.838854070115475,0.7815188353758677,0.8398490098073825,0.8359542243803457,0.839407440657922,0.8393071917381656,0.8394294188181131,0.832234984829277,0.8352478862691437,0.8380718991785753,0.8368134200863427],"type":"scatter","xaxis":"x3","yaxis":"y3"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[4.134336143279697,5.311817162290177,5.045157088371087,4.5407214619942255,3.775979126327066,4.431022382012273,4.088033834737142,5.144738485816633,5.322492790741116,3.945278275119281,4.889722678762484,5.386144726745996,4.972499078373029,5.142325809795624,4.7316591585296335,5.203116740949502,4.784904787457253,4.556474488070551,4.382002044125499,4.248738230233615,4.385195171145986,4.612319746711684,4.701754049435533,4.748609328081217,4.301499589654442,4.681532795732642,4.89935837967639,5.075000062878539,4.71674235944507,4.869495990885935,4.655042574066168,4.139654646413944,4.459052824409203,4.300719717618955,5.190205572145257,3.676922743667534,4.539266255834065,5.021113820810665,4.156318818394071,3.931513430796212,4.3603568635645615,4.618688518425231,4.464850165819228,4.644589485248774,4.867472443738962,5.287175369957568,4.577865553091587,4.796842216966809,4.489769269656535,4.055913420648555],"y":[0.8297122599718415,0.8386410345684262,0.8324779829954114,0.8372598810806096,0.836174586415317,0.7818407459801119,0.8252204153285828,0.838467963787987,0.8314292354270014,0.8378097175462447,0.8273835788271564,0.8318646361754096,0.8111504543465249,0.8398521064752068,0.8382096710440634,0.8326780559165304,0.8107561904611056,0.8392605211088813,0.8396144760949305,0.8386212814645309,0.8346677810927682,0.8396097170189277,0.8401455215022037,0.8395715214275947,0.8300492517380342,0.8406898956395501,0.8272559823630469,0.8353778595899722,0.839089706547939,0.833031957842353,0.8348350012854715,0.8369536316536113,0.8360621413787083,0.8391370671406471,0.8363635212448164,0.835863902484684,0.8324729801341479,0.8354793107227451,0.8366943328384637,0.838854070115475,0.7815188353758677,0.8398490098073825,0.8359542243803457,0.839407440657922,0.8393071917381656,0.8394294188181131,0.832234984829277,0.8352478862691437,0.8380718991785753,0.8368134200863427],"type":"scatter","xaxis":"x4","yaxis":"y4"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.04418644016862719,0.052039580247910444,0.2382928980558553,0.2092678000982468,0.0646832349559129,0.0012013106455773044,0.011460945576968416,0.08434205812427002,0.039330434439447864,0.15210183449642958,0.010366147233049162,0.023366015877106995,0.003827309870709946,0.09599217167703257,0.11275938296626059,0.023048538177397604,0.0053076167160956466,0.046962485262678544,0.11674535416741373,0.1266098384468597,0.2889933840146882,0.0801378413658899,0.09227868648096096,0.129514509628087,0.029550259352083705,0.08912562727434876,0.016098270340527118,0.18943296732407636,0.06951976094241183,0.034444577865541344,0.09077827675422204,0.15274275579293264,0.05558666388132198,0.09557093653502338,0.19943806798981512,0.05432049282037473,0.2892931803590566,0.1823132718108645,0.06801556850382125,0.108855558975882,0.0015274471825612475,0.07647023409091655,0.0436007393184188,0.06042536698114802,0.14492068380116388,0.09594175842753312,0.2245890031975785,0.02903376426086306,0.07290773170392041,0.1607112693364921],"y":[0.8297122599718415,0.8386410345684262,0.8324779829954114,0.8372598810806096,0.836174586415317,0.7818407459801119,0.8252204153285828,0.838467963787987,0.8314292354270014,0.8378097175462447,0.8273835788271564,0.8318646361754096,0.8111504543465249,0.8398521064752068,0.8382096710440634,0.8326780559165304,0.8107561904611056,0.8392605211088813,0.8396144760949305,0.8386212814645309,0.8346677810927682,0.8396097170189277,0.8401455215022037,0.8395715214275947,0.8300492517380342,0.8406898956395501,0.8272559823630469,0.8353778595899722,0.839089706547939,0.833031957842353,0.8348350012854715,0.8369536316536113,0.8360621413787083,0.8391370671406471,0.8363635212448164,0.835863902484684,0.8324729801341479,0.8354793107227451,0.8366943328384637,0.838854070115475,0.7815188353758677,0.8398490098073825,0.8359542243803457,0.839407440657922,0.8393071917381656,0.8394294188181131,0.832234984829277,0.8352478862691437,0.8380718991785753,0.8368134200863427],"type":"scatter","xaxis":"x5","yaxis":"y5"},{"marker":{"color":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"colorbar":{"title":{"text":"Trial"},"x":1.0,"xpad":40},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]],"line":{"color":"Grey","width":0.5},"showscale":false},"mode":"markers","name":"Feasible Trial","showlegend":false,"x":[0.09049173606039179,0.11277133955882598,0.09044635904597828,0.10122959195421996,0.07952562896404855,0.10112128864415453,0.07937779672749949,0.10823028266322993,0.08505050585772125,0.08521668776525136,0.11771186232248443,0.11191059415691995,0.10824923207942595,0.10800589470259034,0.11749296238387945,0.11026033358455732,0.10485778429239463,0.0968001186350392,0.09309742265553703,0.09743700313553408,0.09278412587794642,0.09583291417116592,0.0927957330916928,0.08625485642851463,0.09426086935683102,0.1010011683759113,0.10132892525406033,0.10440428524411438,0.10464949649082794,0.08886361866689321,0.09929429340939043,0.0920622062458971,0.08842006212487252,0.09484576098647479,0.09909767316895321,0.09133048305373309,0.10288029518587795,0.1069246057687655,0.08205130866652349,0.11497834098893671,0.0893978250505775,0.09525225226873958,0.09817011448979591,0.09312777808755293,0.10164648453109187,0.09472886151529133,0.10020257627006995,0.08712706517166707,0.09082783584674069,0.08308183426026194],"y":[0.8297122599718415,0.8386410345684262,0.8324779829954114,0.8372598810806096,0.836174586415317,0.7818407459801119,0.8252204153285828,0.838467963787987,0.8314292354270014,0.8378097175462447,0.8273835788271564,0.8318646361754096,0.8111504543465249,0.8398521064752068,0.8382096710440634,0.8326780559165304,0.8107561904611056,0.8392605211088813,0.8396144760949305,0.8386212814645309,0.8346677810927682,0.8396097170189277,0.8401455215022037,0.8395715214275947,0.8300492517380342,0.8406898956395501,0.8272559823630469,0.8353778595899722,0.839089706547939,0.833031957842353,0.8348350012854715,0.8369536316536113,0.8360621413787083,0.8391370671406471,0.8363635212448164,0.835863902484684,0.8324729801341479,0.8354793107227451,0.8366943328384637,0.838854070115475,0.7815188353758677,0.8398490098073825,0.8359542243803457,0.839407440657922,0.8393071917381656,0.8394294188181131,0.832234984829277,0.8352478862691437,0.8380718991785753,0.8368134200863427],"type":"scatter","xaxis":"x6","yaxis":"y6"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,0.1388888888888889],"title":{"text":"bagging_temperature"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Objective Value"}},"xaxis2":{"anchor":"y2","domain":[0.17222222222222222,0.3111111111111111],"title":{"text":"border_count"}},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis3":{"anchor":"y3","domain":[0.34444444444444444,0.48333333333333334],"title":{"text":"depth"}},"yaxis3":{"anchor":"x3","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis4":{"anchor":"y4","domain":[0.5166666666666667,0.6555555555555557],"title":{"text":"l2_leaf_reg"}},"yaxis4":{"anchor":"x4","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis5":{"anchor":"y5","domain":[0.6888888888888889,0.8277777777777777],"title":{"text":"learning_rate"},"type":"log"},"yaxis5":{"anchor":"x5","domain":[0.0,1.0],"matches":"y","showticklabels":false},"xaxis6":{"anchor":"y6","domain":[0.861111111111111,1.0],"title":{"text":"random_strength"}},"yaxis6":{"anchor":"x6","domain":[0.0,1.0],"matches":"y","showticklabels":false},"title":{"text":"Slice Plot"},"width":1800},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('694398a8-02d4-4142-81a4-e5d477c5a982');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="stage-3-2" class="level4">
<h4 class="anchored" data-anchor-id="stage-3-2">Stage 3</h4>
<div id="da1092fc" class="cell" data-execution_count="27">
<details class="code-fold">
<summary>Final fitting for CatBoost model</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> cat_objective_stage3(best_params):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    params <span class="op">=</span> {</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"task_type"</span>: <span class="st">"GPU"</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"metric_period"</span>: <span class="dv">20</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"loss_function"</span>: <span class="st">"Logloss"</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>        <span class="st">"eval_metric"</span>: <span class="st">"AUC"</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"early_stopping_rounds"</span>: <span class="dv">50</span>,</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"iterations"</span>: <span class="dv">1000</span>,</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"verbose"</span>: <span class="dv">0</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"use_best_model"</span>: <span class="va">True</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>    split_folder <span class="op">=</span> <span class="st">'training/catboost/stage3/data'</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>    cd_file <span class="op">=</span> <span class="st">'./higgs_data/train.cd'</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    train_set, valid_set <span class="op">=</span> file_train_test_split(<span class="st">'higgs_data/train.parquet'</span>, split_folder, test_size<span class="op">=</span><span class="fl">0.2</span>)</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>    dtrain <span class="op">=</span> cat.Pool(train_set, column_description<span class="op">=</span>cd_file, has_header<span class="op">=</span><span class="va">True</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>    dvalid <span class="op">=</span> cat.Pool(valid_set, column_description<span class="op">=</span>cd_file, has_header<span class="op">=</span><span class="va">True</span>, delimiter<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>    baseline_model <span class="op">=</span> cat.CatBoostClassifier(<span class="op">**</span>params)</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>    baseline_model.fit(</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>        dtrain,</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>        eval_set<span class="op">=</span>dvalid,</span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>        column_description<span class="op">=</span>cd_file,</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>    baseline_model.save_model(<span class="st">"models/baseline_cat.cbm"</span>, <span class="bu">format</span><span class="op">=</span><span class="st">"cbm"</span>)</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>    params.update(best_params)</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>    tuned_model <span class="op">=</span> cat.CatBoostClassifier(<span class="op">**</span>params)</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a>    tuned_model.fit(</span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a>        dtrain,</span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>        eval_set<span class="op">=</span>dvalid,</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>        column_description<span class="op">=</span>cd_file,</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>    tuned_model.save_model(<span class="st">"models/tuned_cat.cbm"</span>, <span class="bu">format</span><span class="op">=</span><span class="st">"cbm"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</div>
</div>
</div>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<p>The graph below shows that the performance difference between the baseline and tuned models is relatively modest. However, the XGBoost model displays noticeable signs of overfitting. Some variance between models was also observed during preliminary testing, likely due to the lack of cross-validation (a trade-off made for efficiency). Still, the results are encouraging. The CatBoost model, for instance, saw an increase in test AUC from 0.81 to 0.84. While Optuna shows clear potential for improving model performance, applying it within a more rigorous validation framework will be important moving forward.</p>
<div id="ff12c5b4" class="cell" data-execution_count="30">
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="bayesian_hyperparameters_files/figure-html/cell-31-output-1.png" width="940" height="566" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">model_type</th>
<th data-quarto-table-cell-role="th">hyperparm_tuned</th>
<th data-quarto-table-cell-role="th">train</th>
<th data-quarto-table-cell-role="th">test</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>cat</td>
<td>baseline</td>
<td>0.817444</td>
<td>0.817300</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>lgb</td>
<td>baseline</td>
<td>0.835757</td>
<td>0.833426</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>xgb</td>
<td>baseline</td>
<td>0.854386</td>
<td>0.843966</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>cat</td>
<td>tuned</td>
<td>0.854214</td>
<td>0.845962</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>lgb</td>
<td>tuned</td>
<td>0.880012</td>
<td>0.850912</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>xgb</td>
<td>tuned</td>
<td>0.952493</td>
<td>0.857290</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>In conclusion, I’d say optuna is a wonderful tool to find a great hyperparameter configuration for your models. It’s easy to use and can be integrated into your workflow with just a few lines of code. Highly recommend it to anyone looking to improve their model performance.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>